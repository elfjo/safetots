!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=176)}({11:function(e,t){e.exports=wp.data},117:function(e,t,n){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},129:function(e,t,n){"use strict";var r=n(14),i=n.n(r),a=n(3),o=n.n(a),c=n(4),u=n.n(c),s=n(11),f=n(65),l=n(17),d=n.n(l),p=n(66),v=function(){function e(t){o()(this,e),this.sys={retrieveItem:function(e){var t=Object(s.select)("abt/data").getItemById(e);if(!t)throw new Error('CSL Data could not be found for item ID "'.concat(e,'"'));return t},retrieveLocale:function(e){var t=p.a.getItem(e);if(!t)throw new Error('Requested locale "'.concat(e,'" was not prefetched'));return t}};var n=e.instance;if(n)return n.style!==t&&(n.style=t,n.engine=new f.Engine(n.sys,n.style),n.engine.opt.development_extensions.wrap_url_and_doi=!0),n;e.instance=this,this.style=t,this.engine=new f.Engine(this.sys,this.style),this.engine.opt.development_extensions.wrap_url_and_doi=!0}return u()(e,[{key:"parseCitations",value:function(e){var t=this;return this.engine.rebuildProcessorState(e).map(function(e){var n=i()(e,3),r=n[0];return{id:r,html:n[2],sortedItems:JSON.stringify(t.registry.citationById[r].sortedItems.map(function(e){return i()(e,1)[0].id}))}})}},{key:"bibliography",get:function(){var e;try{if(!(e=this.engine.makeBibliography()))return{items:[],meta:{}}}catch(e){return{items:[],meta:{}}}var t=e,n=i()(t,2),r=n[0],a=n[1],o=r.entryspacing,c=r.hangingindent,u=r.linespacing,s=r.maxoffset,f=r["second-field-align"];return{meta:{entryspacing:o,hangingindent:c,linespacing:u,maxoffset:s,secondFieldAlign:f||void 0},items:d.a.zipWith(d.a.flatten(r.entry_ids),a,function(e,t){return{id:e,content:t}})}}},{key:"registry",get:function(){return this.engine.registry.citationreg}}]),e}();v.instance=null,t.a=v},13:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},14:function(e,t,n){var r=n(44),i=n(45),a=n(46);e.exports=function(e,t){return r(e)||i(e,t)||a()}},15:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},17:function(e,t){e.exports=lodash},176:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addReference",function(){return D}),n.d(r,"addReferences",function(){return P}),n.d(r,"removeFootnote",function(){return B}),n.d(r,"removeFootnotes",function(){return F}),n.d(r,"removeReference",function(){return H}),n.d(r,"removeReferences",function(){return J}),n.d(r,"updateReference",function(){return Y}),n.d(r,"removeAllCitations",function(){return q}),n.d(r,"parseCitations",function(){return K}),n.d(r,"parseFootnotes",function(){return V}),n.d(r,"setStyle",function(){return z});var i={};n.r(i),n.d(i,"getCitationStyles",function(){return ie});var a={};n.r(a),n.d(a,"getCitationStyles",function(){return se}),n.d(a,"getStyle",function(){return fe}),n.d(a,"getCitationsByIndex",function(){return le}),n.d(a,"getCitedItems",function(){return de}),n.d(a,"getFootnotes",function(){return pe}),n.d(a,"getItems",function(){return ve}),n.d(a,"getSortedItems",function(){return me}),n.d(a,"getItemById",function(){return he}),n.d(a,"getSerializedState",function(){return be}),n.d(a,"getUncitedItems",function(){return ye});var o={};n.r(o),n.d(o,"clearSelectedItems",function(){return xe}),n.d(o,"setIdentifierKind",function(){return Oe}),n.d(o,"setSidebarSortMode",function(){return Se}),n.d(o,"setSidebarSortOrder",function(){return Ee}),n.d(o,"toggleItemSelected",function(){return we});var c={};n.r(c),n.d(c,"getIdentifierKind",function(){return je}),n.d(c,"getSelectedItems",function(){return Re}),n.d(c,"getSidebarSortMode",function(){return ke}),n.d(c,"getSidebarSortOrder",function(){return Te});var u=n(2),s=n.n(u),f=n(11),l=n(31),d=n(30),p=n(35),v=n(23),m=n(129),h=n(9),b=n.n(h),y=n(43),g=n(66);var x={FETCH_CITATION_STYLES:function(){var e=b()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)("get_style_json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),FETCH_LOCALE:function(){var e=b()(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.style,e.abrupt("return",g.a.fetchItem(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),FETCH_STYLE:function(){var e=b()(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",g.b.fetchItem(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},O=regeneratorRuntime.mark(D),S=regeneratorRuntime.mark(P),E=regeneratorRuntime.mark(B),w=regeneratorRuntime.mark(F),I=regeneratorRuntime.mark(H),_=regeneratorRuntime.mark(J),j=regeneratorRuntime.mark(Y),R=regeneratorRuntime.mark(q),k=regeneratorRuntime.mark(K),T=regeneratorRuntime.mark(V),C=regeneratorRuntime.mark(z),N=regeneratorRuntime.mark(U),M=regeneratorRuntime.mark(X),A=regeneratorRuntime.mark(G),L=regeneratorRuntime.mark(W);function D(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P([e]);case 2:case"end":return t.stop()}},O,this)}function P(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"ADD_REFERENCES",data:e};case 2:return t.next=4,U();case 4:case"end":return t.stop()}},S,this)}function B(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F([e]);case 2:case"end":return t.stop()}},E,this)}function F(e){var t,n,r,i,a,o,c,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(t=Object(p.a)(),n=0,r=!0,i=!1,a=void 0,s.prev=5,o=t.querySelectorAll(v.b.selector)[Symbol.iterator]();!(r=(c=o.next()).done);r=!0)u=c.value,e.includes("".concat(u.id,"-ref"))&&u.parentNode&&(u.parentNode.removeChild(u),n++);s.next=13;break;case 9:s.prev=9,s.t0=s.catch(5),i=!0,a=s.t0;case 13:s.prev=13,s.prev=14,r||null==o.return||o.return();case 16:if(s.prev=16,!i){s.next=19;break}throw a;case 19:return s.finish(16);case 20:return s.finish(13);case 21:if(!(n>0)){s.next=26;break}return s.next=24,Object(f.dispatch)("core/editor").resetBlocks(Object(l.parse)(t.innerHTML));case 24:return s.next=26,U();case 26:case"end":return s.stop()}},w,this,[[5,9,13,21],[14,,16,20]])}function H(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J([e]);case 2:case"end":return t.stop()}},I,this)}function J(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(p.a)(),n=s()(t.querySelectorAll(v.a.selector)).reduce(function(t,n){var r=v.a.getItems(n),i=r.filter(function(t){return!e.includes(t)});return 0===i.length&&n.parentNode?n.parentNode.removeChild(n):n.dataset.items=JSON.stringify(i),t.filter(function(e){return!r.includes(e)})},s()(e)),r.next=4,Object(f.dispatch)("core/editor").resetBlocks(Object(l.parse)(t.innerHTML));case 4:if(!(n.length>0)){r.next=9;break}return r.next=7,{type:"REMOVE_REFERENCES",itemIds:n};case 7:return r.next=9,U();case 9:case"end":return r.stop()}},_,this)}function Y(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(f.select)("abt/data").getCitedItems().findIndex(function(t){return t.id===e.id})>=0,n.next=3,{type:"UPDATE_REFERENCE",data:e};case 3:if(!t){n.next=6;break}return n.next=6,K();case 6:return n.next=8,U();case 8:case"end":return n.stop()}},j,this)}function q(){var e,t,n,r,i,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=Object(p.a)(),t=!0,n=!1,r=void 0,c.prev=4,i=e.querySelectorAll(v.a.selector)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)(o=a.value).parentNode&&o.parentNode.removeChild(o);c.next=12;break;case 8:c.prev=8,c.t0=c.catch(4),n=!0,r=c.t0;case 12:c.prev=12,c.prev=13,t||null==i.return||i.return();case 15:if(c.prev=15,!n){c.next=18;break}throw r;case 18:return c.finish(15);case 19:return c.finish(12);case 20:return c.next=22,Object(f.dispatch)("core/editor").resetBlocks(Object(l.parse)(e.innerHTML));case 22:case"end":return c.stop()}},R,this,[[4,8,12,20],[13,,15,19]])}function K(){var e,t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i=void 0,a=void 0,i=Object(f.select)("abt/data").getStyle(),a=i.value,"custom"===i.kind?a:{type:"FETCH_STYLE",id:a};case 2:return e=r.sent,r.next=5,{type:"FETCH_LOCALE",style:e};case 5:return t=new m.a(e),n=t.parseCitations(Object(f.select)("abt/data").getCitationsByIndex()),r.next=9,X(t.bibliography);case 9:return r.next=11,W(n);case 11:case"end":return r.stop()}var i,a},k,this)}function V(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=Object(p.a)()).querySelectorAll(v.b.selector).forEach(function(e,t){e.innerHTML=v.b.createMarker(t)}),t.next=4,Object(f.dispatch)("core/editor").resetBlocks(Object(l.parse)(e.innerHTML));case 4:return t.next=6,G();case 6:case"end":return t.stop()}},T,this)}function z(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"SET_STYLE",style:e};case 2:return t.next=4,K();case 4:return t.next=6,U();case 6:case"end":return t.stop()}},C,this)}function U(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.dispatch)("core/editor").editPost(Object(f.select)("abt/data").getSerializedState());case 2:return e=Object(f.subscribe)(function(){Object(f.select)("core/notices").getNotices().find(function(e){return"SAVE_POST_NOTICE_ID"===e.id})&&(Object(f.dispatch)("core/notices").removeNotice("SAVE_POST_NOTICE_ID"),e())}),t.next=5,Object(f.dispatch)("core/editor").savePost();case 5:case"end":return t.stop()}},N,this)}function X(e){var t,n,r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.items,n=e.meta,r=Object(f.select)("core/editor").getBlocks(),i=r.find(function(e){return"abt/bibliography"===e.name}),!(t.length>0&&i)){a.next=8;break}return a.next=6,Object(f.dispatch)("core/editor").updateBlockAttributes(i.clientId,Object.assign({},n,{items:t}));case 6:a.next=16;break;case 8:if(!(t.length>0)||i){a.next=13;break}return a.next=11,Object(f.dispatch)("core/editor").insertBlock(Object(l.createBlock)("abt/bibliography",Object.assign({},n,{items:t})),r.length,void 0,!1);case 11:a.next=16;break;case 13:if(0!==t.length||!i){a.next=16;break}return a.next=16,Object(f.dispatch)("core/editor").removeBlock(i.clientId);case 16:case"end":return a.stop()}},M,this)}function G(){var e,t,n,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=Object(f.select)("abt/data").getFootnotes(),t=Object(f.select)("core/editor").getBlocks(),n=t.findIndex(function(e){return"abt/footnotes"===e.name}),r=t.findIndex(function(e){return"abt/bibliography"===e.name}),!(e.length>0&&n>=0)){i.next=9;break}return i.next=7,Object(f.dispatch)("core/editor").updateBlockAttributes(t[n].clientId,{items:e});case 7:i.next=17;break;case 9:if(!(e.length>0&&-1===n)){i.next=14;break}return i.next=12,Object(f.dispatch)("core/editor").insertBlock(Object(l.createBlock)("abt/footnotes",{items:e}),r>0?r:t.length,void 0,!1);case 12:i.next=17;break;case 14:if(!(0===e.length&&n>=0)){i.next=17;break}return i.next=17,Object(f.dispatch)("core/editor").removeBlock(t[n].clientId);case 17:case"end":return i.stop()}},A,this)}function W(e){var t,n,r,i,a,o,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(t=Object(p.a)(),n=!0,r=!1,i=void 0,u.prev=4,a=function(){var e=c.value,n=e.html,r=e.id,i=e.sortedItems,a=t.querySelector(d.a.apply(void 0,s()(v.a.legacyClassNames.map(function(e){return{classNames:[e],attributes:{id:r}}}))));a&&(a.innerHTML=n,a.dataset.items=i,a.childElementCount>0&&(a.dataset.hasChildren="true"))},o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0)a();u.next=13;break;case 9:u.prev=9,u.t0=u.catch(4),r=!0,i=u.t0;case 13:u.prev=13,u.prev=14,n||null==o.return||o.return();case 16:if(u.prev=16,!r){u.next=19;break}throw i;case 19:return u.finish(16);case 20:return u.finish(13);case 21:return u.next=23,Object(f.dispatch)("core/editor").resetBlocks(Object(l.parse)(t.innerHTML));case 23:case"end":return u.stop()}},L,this,[[4,9,13,21],[14,,16,20]])}var Q=n(117),Z=n.n(Q),$=n(22),ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},te=Object.assign({citationStyles:{renamed:{},styles:[]}},Object(d.b)("abt-editor-state"));var ne=Object(f.combineReducers)({citationStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te.citationStyles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITATION_STYLES":return t.styles;default:return e}},references:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te.references,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REFERENCES":var n=t.data.map(function(e){e.id;var t=ee(e,["id"]);return Object.assign({},t,{id:Object($.b)(t,["DOI","ISBN","PMCID","PMID"],Z()(JSON.stringify(t)).toString())})}).filter(function(t){var n=t.id;return-1===e.findIndex(function(e){return e.id===n})});return n.length>0?[].concat(s()(e),s()(n)):e;case"REMOVE_REFERENCES":return e.filter(function(e){var n=e.id;return!t.itemIds.includes(n)});case"UPDATE_REFERENCE":var r=e.findIndex(function(e){return e.id===t.data.id});return-1===r?[].concat(s()(e),[t.data]):[].concat(s()(e.slice(0,r)),[t.data],s()(e.slice(r+1)));default:return e}},style:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te.style,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STYLE":return t.style;default:return e}}}),re=regeneratorRuntime.mark(ie);function ie(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,{type:"FETCH_CITATION_STYLES"};case 2:return e=t.sent,t.abrupt("return",{type:"SET_CITATION_STYLES",styles:e});case 4:case"end":return t.stop()}},re,this)}var ae=n(14),oe=n.n(ae),ce=n(17),ue=n.n(ce);function se(e){return Object($.a)(e.citationStyles)}function fe(e){return Object($.a)(e.style)}function le(e){var t=Object(p.a)(!0);return s()(t.querySelectorAll(v.a.selector)).map(function(t,n){return{citationID:t.id,citationItems:v.a.getItems(t).reduce(function(t,n){var r=he(e,n);return void 0!==r?[].concat(s()(t),[{id:n,item:r}]):t},[]),properties:{index:n,noteIndex:0}}})}function de(e){var t=Object(p.a)(!0);return ue()(s()(t.querySelectorAll(v.a.selector))).flatMap(v.a.getItems).uniq().map(ue.a.partial(he,e)).compact().value()}function pe(){var e=Object(p.a)(),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");return n.className="abt-footnotes-item__marker",r.className="abt-footnotes-item__content",t.appendChild(n),t.appendChild(r),s()(e.querySelectorAll(v.b.selector)).map(function(e){return n.innerHTML=e.innerHTML,r.textContent=e.dataset.note||"",{id:"".concat(e.id,"-ref"),content:t.innerHTML}})}function ve(e,t){switch(t){case"cited":return de(e);case"uncited":return ye(e);default:return Object($.a)(e.references)}}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",r=arguments.length>3?arguments[3]:void 0;return ue.a.orderBy(ve(e,r),function(e){switch(t){case"date":var n=ue.a.get(e.issued,"[date-parts][0]",[-5e3]),r=oe()(n,3),i=r[0],a=r[1],o=void 0===a?0:a,c=r[2];return new Date(i,o,void 0===c?1:c).toJSON();case"publication":return Object($.b)(e,["journalAbbreviation","container-title-short","container-title","publisher"],"~");case"title":default:return e.title||"~"}},n)}function he(e,t){return Object($.a)(e.references.find(function(e){return e.id===t}))}function be(e){var t=e.references,n=e.style;return{meta:{_abt_state:JSON.stringify({references:t,style:n})}}}function ye(e){return ue.a.differenceWith(e.references,de(e),function(e,t){return e.id===t.id})}var ge=["abt/data",{actions:r,controls:x,reducer:ne,resolvers:i,selectors:a}];function xe(){return{type:"CLEAR_SELECTED_ITEMS"}}function Oe(e){return{type:"SET_IDENTIFIER_KIND",kind:e}}function Se(e){return{type:"SET_SIDEBAR_SORT_MODE",mode:e}}function Ee(e){return{type:"SET_SIDEBAR_SORT_ORDER",order:e}}function we(e){return{type:"TOGGLE_ITEM_SELECTED",id:e}}var Ie={identifierKind:"doi"};var _e={selectedItems:[],sortMode:"title",sortOrder:"asc"};function je(e){return e.addReferenceDialog.identifierKind}function Re(e){return s()(e.sidebar.selectedItems)}function ke(e){return e.sidebar.sortMode}function Te(e){return e.sidebar.sortOrder}var Ce=["abt/ui",{actions:o,reducer:Object(f.combineReducers)({addReferenceDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IDENTIFIER_KIND":return Object.assign({},e,{identifierKind:t.kind});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_SELECTED_ITEMS":return Object.assign({},e,{selectedItems:[]});case"SET_SIDEBAR_SORT_MODE":return Object.assign({},e,{sortMode:t.mode});case"SET_SIDEBAR_SORT_ORDER":return Object.assign({},e,{sortOrder:t.order});case"TOGGLE_ITEM_SELECTED":return Object.assign({},e,{selectedItems:e.selectedItems.includes(t.id)?e.selectedItems.filter(function(e){return e!==t.id}):[].concat(s()(e.selectedItems),[t.id])});default:return e}}}),selectors:c}];f.registerStore.apply(void 0,s()(ge)),f.registerStore.apply(void 0,s()(Ce))},2:function(e,t,n){var r=n(38),i=n(39),a=n(40);e.exports=function(e){return r(e)||i(e)||a()}},22:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s});var r=n(2),i=n.n(r),a=n(17),o=n.n(a);function c(e){return void 0===e?e:JSON.parse(JSON.stringify(e))}function u(e,t,n){var r=!0,i=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value,f=o.a.get(e,s);if(f)return f}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}function s(e,t,n){var r=i()(e),a=r.splice(t,1);return[].concat(i()(r.slice(0,n)),i()(a),i()(r.slice(n)))}},23:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});var r,i,a=n(2),o=n.n(a),c=n(3),u=n.n(c),s=n(4),f=n.n(s),l=n(13),d=n.n(l),p=n(34),v=n.n(p),m=n(30),h=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},b=r=function(){function e(){u()(this,e)}return f()(e,null,[{key:"create",value:function(e){var t=document.createElement("span");return t.className=r.className,t.id=v()(),t.dataset.items=JSON.stringify(e),t.contentEditable="false",t.innerText="￼",t.outerHTML}},{key:"getItems",value:function(e){return JSON.parse(e.dataset.items||e.dataset.reflist||"[]")}}]),e}();b.className="abt-citation",b.legacyClassNames=[r.className,"abt_cite"],b.selector=m.a.apply(void 0,o()(r.legacyClassNames.map(function(e){return{classNames:[e],attributes:{id:!0}}}))),b=r=h([function(e){return}],b);var y=i=function(){function e(){u()(this,e)}return f()(e,null,[{key:"create",value:function(e){var t=document.createElement("span");return t.className=i.className,t.id=v()(),t.dataset.note=e,t.contentEditable="false",t.innerText="￼",t.outerHTML}},{key:"createMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=["*","†","‡","§","¶","#"];return e>=0?i.createMarker(e-n.length,t+n[e%n.length]):"<sup>".concat(t,"</sup>")}}]),e}();y.className="abt-footnote",y.legacyClassNames=[i.className],y.selector=m.a.apply(void 0,o()(i.legacyClassNames.map(function(e){return{classNames:[e],attributes:{id:!0}}}))),y=i=h([function(e){return}],y)},29:function(e,t){e.exports=wp.url},3:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},30:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(14),i=n.n(r);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=e.element,n=e.id,r=e.classNames,a=void 0===r?[]:r,o=e.attributes,c=void 0===o?{}:o,u="";t&&(u+="".concat(t)),n&&(u+="#".concat(n));var s=!0,f=!1,l=void 0;try{for(var d,p=a[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var v=d.value;u+=".".concat(v)}}catch(e){f=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(f)throw l}}for(var m=Object.entries(c),h=0;h<m.length;h++){var b=i()(m[h],2),y=b[0],g=b[1];u+="boolean"==typeof g?g?"[".concat(y,"]"):"":"[".concat(y,'="').concat(g,'"]')}return u}).join()}function o(e){var t=a({element:"script",id:e,attributes:{type:"application/json"}}),n=document.querySelector(t);if(!n)throw new Error('Unable to retrieve JSON data using ID "'.concat(e,'"'));return JSON.parse(n.innerHTML)}},31:function(e,t){e.exports=wp.blocks},33:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},34:function(e,t,n){var r=n(71),i=n(72);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var c=0;c<16;++c)t[a+c]=o[c];return t||i(o)}},35:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return f});var r=n(2),i=n.n(r),a=n(31),o=n(11),c=["core/freeform","core/html"];function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("div");if(e){var n=Object(o.select)("core/editor").getBlocksForSerialization().filter(function(e){return!c.includes(e.name)&&e.isValid});t.innerHTML=Object(a.serialize)(n)}else t.innerHTML=Object(o.select)("core/editor").getEditedPostContent();return t}function s(e){var t=e.entryspacing,n=e.hangingindent,r=e.maxoffset,i=e.linespacing,a=e.secondFieldAlign;return Object.assign({},t?{"data-entryspacing":"".concat(t)}:void 0,n?{"data-hangingindent":"".concat(n)}:void 0,r?{"data-maxoffset":"".concat(r)}:void 0,i?{"data-linespacing":"".concat(i)}:void 0,a?{"data-second-field-align":a}:void 0)}function f(e){if("string"==typeof e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector(".csl-entry");if(!n)throw new Error('Outer HTML of item must be a div with className "csl-entry"');e=n}var r=e,a=[],o=!0,c=!1,u=void 0;try{for(var s,f=e.children[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var l=s.value;if(l.classList.contains("csl-indent"))break;l.classList.contains("csl-left-margin")?a=[].concat(i()(a),[l]):l.classList.contains("csl-right-inline")&&(l.outerHTML=l.innerHTML)}}catch(e){c=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(c)throw u}}return a.forEach(function(e){return r.removeChild(e)}),r.innerHTML.trim()}},38:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},39:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},4:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},40:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},43:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(9),i=n.n(r),a=n(29);function o(e,t){return c.apply(this,arguments)}function c(){return(c=i()(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(top.ajaxurl,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:Object(a.addQueryArgs)(void 0,Object.assign({_:"",_wpnonce:_abt_nonce,action:t},n)),credentials:"same-origin"}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},44:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},45:function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}},46:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},47:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},6:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},65:function(e,t){e.exports=CSL},66:function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return E});var r=n(9),i=n.n(r),a=n(7),o=n.n(a),c=n(6),u=n.n(c),s=n(8),f=n.n(s),l=n(2),d=n.n(l),p=n(15),v=n.n(p),m=n(3),h=n.n(m),b=n(4),y=n.n(b),g=n(17),x=n.n(g),O=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;h()(this,e),this.PREFIX="ABT_CACHE_",this.VERSION="v1.0",this.KEY="".concat(this.PREFIX).concat(this.VERSION),this._cache=this.storageIsAvailable()?top.localStorage:this.createFallbackStorage();this.ITEM_KEY=t,this.EXPIRES=Date.now()+864e5*r;var i=this.KEY,a=this.PREFIX;Object.keys(this._cache).filter(function(e){return e.startsWith(a)&&e!==i}).forEach(function(e){return n._cache.removeItem(e)})}return y()(e,[{key:"getItem",value:function(e){return this.cache[e]||null}},{key:"removeItem",value:function(e){this.cache=x.a.omit(this.cache,e)}},{key:"setItem",value:function(e,t){this.cache=Object.assign({},this.cache,v()({},e,t))}},{key:"storageIsAvailable",value:function(){try{var e=window.localStorage;return e.setItem("__storage_test__","test"),e.removeItem("__storage_test__"),!0}catch(e){return!1}}},{key:"createFallbackStorage",value:function(){return{_value:new Map,get length(){return this._value.size},clear:function(){this._value.clear()},getItem:function(e){return this._value.get(e)||null},key:function(e){return d()(this._value.keys())[e]||null},removeItem:function(e){this._value.delete(e)},setItem:function(e,t){this._value.set(e,t)}}}},{key:"cache",get:function(){var e=this.EXPIRES,t=this.ITEM_KEY,n=this.KEY,r=JSON.parse(this._cache.getItem(n)||"{}"),i=r[t];return(!i||i.expires<Date.now())&&(i={expires:e,data:{}},this._cache.setItem(n,JSON.stringify(Object.assign({},r,v()({},t,Object.assign({},i)))))),Object.assign({},i.data)},set:function(e){var t=this.ITEM_KEY,n=this.KEY,r=JSON.parse(this._cache.getItem(n)||"{}"),i=r[t];this._cache.setItem(n,JSON.stringify(Object.assign({},r,v()({},t,Object.assign({},i,{data:e})))))}}]),e}(),S=new(function(e){function t(){var e;return h()(this,t),(e=o()(this,u()(t).apply(this,arguments))).parser=new DOMParser,e}return f()(t,e),y()(t,[{key:"fetchItem",value:function(){var e=i()(regeneratorRuntime.mark(function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.parser.parseFromString(t,"application/xml"),r=n.querySelector("style"),!n.querySelector("parsererror")){e.next=4;break}throw new Error("Invalid style XML");case 4:if(r){e.next=6;break}throw new Error("CSL style is not valid");case 6:return i=r.getAttribute("default-locale")||"en-US",e.next=9,fetch("https://raw.githubusercontent.com/citation-style-language/locales/master/locales-".concat(i,".xml"));case 9:if((a=e.sent).ok){e.next=12;break}throw new Error(a.statusText);case 12:return e.next=14,a.text();case 14:return o=e.sent,this.setItem(i,o),e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(O))("locales"),E=new(function(e){function t(){return h()(this,t),o()(this,u()(t).apply(this,arguments))}return f()(t,e),y()(t,[{key:"fetchItem",value:function(){var e=i()(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=this.getItem(t))){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,fetch("https://raw.githubusercontent.com/citation-style-language/styles/master/".concat(t,".csl"));case 5:if((r=e.sent).ok){e.next=8;break}throw new Error(r.statusText);case 8:return e.next=10,r.text();case 10:return i=e.sent,this.setItem(t,i),e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(O))("styles")},7:function(e,t,n){var r=n(13),i=n(47);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},71:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},72:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},8:function(e,t,n){var r=n(33);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},9:function(e,t){function n(e,t,n,r,i,a,o){try{var c=e[a](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,a){var o=e.apply(t,r);function c(e){n(o,i,a,c,u,"next",e)}function u(e){n(o,i,a,c,u,"throw",e)}c(void 0)})}}}});
//# sourceMappingURL=editor-stores.js.map