!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=157)}({116:function(t,e){t.exports=wp.domReady},157:function(t,e,n){"use strict";n.r(e),n.d(e,"createTooltip",function(){return u}),n.d(e,"Frontend",function(){return f});var o=n(2),i=n.n(o),a=n(3),r=n.n(a),l=n(4),c=n.n(l),d=n(116),s=n.n(d);n(158);function u(t){var e=t.currentTarget,n=document.getElementById("abt-tooltip");n&&n.parentElement.removeChild(n);var o=e.getBoundingClientRect(),i=o.left+o.width/2,a=document.createElement("div");a.id=a.className="abt-tooltip",a.innerHTML=e.dataset.citations;var r=document.createElement("div");r.className="abt-tooltip__callout";var l=document.createElement("div");l.className="abt-tooltip__close-button-container",l.addEventListener("click",function(){return a.parentElement.removeChild(a)});var c=document.createElement("div");c.className="abt-tooltip__close-button",document.body.appendChild(a),a.appendChild(r),a.appendChild(l),l.appendChild(c);var d=a.offsetWidth+10+10>=document.body.offsetWidth,s=10+a.offsetWidth/2>i,u=i>document.body.offsetWidth/2&&document.body.offsetWidth-i<10+a.offsetWidth/2,f=a.offsetWidth/2*-1||0;i+f<0||d?(a.style.width="calc(100% - 25px)",a.style.left="10px"):u?(a.style.right="5px",a.style.marginRight="5px"):s?(a.style.left=i+"px",a.style.marginLeft=f+10+"px"):(a.style.left=i+"px",a.style.marginLeft=f+"px"),d||s?r.style.left="".concat(i-10-r.offsetWidth/2,"px"):u?r.style.right="".concat(document.body.offsetWidth-i-20,"px"):r.style.left="calc(50% - ".concat(r.offsetWidth/2,"px)"),o.top-a.offsetHeight<0?(a.style.top=o.bottom+window.pageYOffset+10+"px",a.classList.add("abt-tooltip_bottom"),r.classList.add("abt-tooltip__callout_up")):(a.style.top=o.top+window.pageYOffset-a.offsetHeight-10+"px",a.classList.add("abt-tooltip_top"),r.classList.add("abt-tooltip__callout_down")),a.classList.add("abt-tooltip_active")}var f=function(){function t(){var e=this;if(r()(this,t),this.bibliography=document.querySelector("#abt-bibliography, #abt-smart-bib"),this.bibliography){this.itemContainer=document.getElementById("abt-bibliography__container")||this.bibliography;for(var n=document.querySelectorAll(".abt-citation, .abt_cite"),o=i()(n),a=0;a<o.length;a++){var l=o[a],c=JSON.parse(l.dataset.reflist||"[]");l.dataset.citations=c.map(function(t){return e.itemContainer.children.namedItem(t).outerHTML}).join(""),l.addEventListener("click",u)}document.querySelector(".abt-bibliography__heading_toggle, #abt-smart-bib>h3.toggle")&&this.enableToggle()}}return c()(t,[{key:"enableToggle",value:function(){var t=this,e=document.querySelector(".abt-bibliography__heading_toggle");if(this.itemContainer&&e){var n=e.dataset.headingLevel;n&&(e.style.font=this.getHeadingFont(n)),this.itemContainer.classList.add("abt-bibligraphy__container--hidden"),e.classList.add("abt-bibliography__heading_toggle--closed"),e.addEventListener("click",function(){e.setAttribute("aria-expanded",JSON.stringify(e.classList.contains("abt-bibliography__heading_toggle--closed"))),e.classList.toggle("abt-bibliography__heading_toggle--closed"),t.itemContainer.classList.toggle("abt-bibligraphy__container--hidden")})}}},{key:"getHeadingFont",value:function(t){var e=document.createElement(t);e.style.display="none",document.body.appendChild(e);var n=getComputedStyle(e).font;return document.body.removeChild(e),n}}]),t}();f.isTouchDevice=!0=="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s()(function(){return new f})},158:function(t,e,n){t.exports={globalFadeInUp:"style__-global-fadeInUp-___FovN2",globalFadeInDown:"style__-global-fadeInDown-___1LdZw"}},2:function(t,e,n){var o=n(38),i=n(39),a=n(40);t.exports=function(t){return o(t)||i(t)||a()}},3:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},38:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},39:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},4:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},40:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}}});
//# sourceMappingURL=frontend-legacy.js.map