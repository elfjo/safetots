!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=179)}([function(e,t){e.exports=wp.i18n},function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){var r=n(38),o=n(39),i=n(40);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},,function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(13),o=n(47);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(33);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function l(e){n(a,o,i,l,u,"next",e)}function u(e){n(a,o,i,l,u,"throw",e)}l(void 0)})}}},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.data},function(e,t){e.exports=wp.element},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(44),o=n(45),i=n(46);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,function(e,t){e.exports=lodash},function(e,t){e.exports=wp.compose},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(3),o=n.n(r),i=n(7),a=n.n(i),l=n(6),u=n.n(l),s=n(8),c=n.n(s),p=n(78),d=function(e){function t(e,n){var r,i=n.status,l=n.statusText,s=n.url;return o()(this,t),(r=a()(this,u()(t).call(this,e))).resource=e,r.status=i,r.statusText=l,r.url=s,r}return c()(t,e),t}(n.n(p)()(Error))},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s});var r=n(2),o=n.n(r),i=n(17),a=n.n(i);function l(e){return void 0===e?e:JSON.parse(JSON.stringify(e))}function u(e,t,n){var r=!0,o=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value,c=a.a.get(e,s);if(c)return c}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function s(e,t,n){var r=o()(e),i=r.splice(t,1);return[].concat(o()(r.slice(0,n)),o()(i),o()(r.slice(n)))}},,function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){"use strict";var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=["",""],o=["",""],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}})));var l=function(){function e(){for(var t=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map(function(e){return"function"==typeof e?e():e}),this.tag}return i(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.tag(a,e.apply(void 0,[t].concat(r)))}},{key:"processSubstitutions",value:function(e,t,n){var r=this.transformSubstitution(e.shift(),t);return"".concat(t,r,n)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.map(function(e){return e.length})));if(r){var o=new RegExp("^.{"+r+"}","gm");return t.replace(o,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},c=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},p=function(e,t){return{onSubstitution:function(n,r){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},d={separator:"",conjunction:"",serial:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return{onSubstitution:function(t,n){if(Array.isArray(t)){var r=t.length,o=e.separator,i=e.conjunction,a=e.serial,l=n.match(/(\n?[^\S\n]+)$/);if(t=l?t.join(o+l[1]):t.join(o+" "),i&&r>1){var u=t.lastIndexOf(o);t=t.slice(0,u)+(a?o:"")+" "+i+t.slice(u+1)}}return t}}},g=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},h=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},m=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(h):h(e)?e:""}}},b=(new l(f({separator:","}),s,u),new l(f({separator:",",conjunction:"and"}),s,u),new l(f({separator:",",conjunction:"or"}),s,u),new l(g("\n"),m,f,s,u),new l(g("\n"),f,s,u,p(/&/g,"&amp;"),p(/</g,"&lt;"),p(/>/g,"&gt;"),p(/"/g,"&quot;"),p(/'/g,"&#x27;"),p(/`/g,"&#x60;")),new l(c(/(?:\n(?:\s*))+/g," "),u)),v=new l(c(/(?:\n\s*)/g,""),u),y=(new l(f({separator:","}),c(/(?:\s+)/g," "),u),new l(f({separator:",",conjunction:"or"}),c(/(?:\s+)/g," "),u),new l(f({separator:",",conjunction:"and"}),c(/(?:\s+)/g," "),u),new l(f,s,u),new l(f,c(/(?:\s+)/g," "),u),new l(s,u),new l(s("all"),u));n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y})},function(e,t){e.exports=wp.editor},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);t.parseName=r.default;var o=n(82);t.parseDate=o.default},function(e,t,n){e.exports=n(88)()},function(e,t){e.exports=wp.url},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return l});var r=["accessed","container","event-date","issued","original-date","submitted"],o=["chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"],i=["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],a=["abstract","annote","archive","archive_location","archive-place","authority","call-number","citation-label","citation-number","collection-title","container-title","container-title-short","dimensions","DOI","event","event-place","first-reference-note-number","genre","ISBN","ISSN","journalAbbreviation","jurisdiction","keyword","language","locator","medium","note","original-publisher","original-publisher-place","original-title","page","page-first","PMID","PMCID","publisher","publisher-place","references","reviewed-title","scale","section","shortTitle","source","status","title","title-short","URL","version","year-suffix"],l=["id","type"].concat(r,o,i,a)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},,,function(e,t,n){e.exports={container:"style__container___2MMYz",field:"style__field___2TI8b"}},function(e,t,n){"use strict";var r=n(68);n.d(t,"a",function(){return r});var o=n(55);n.d(t,"b",function(){return o});var i=n(53);n.d(t,"c",function(){return i});var a=n(54);n.d(t,"d",function(){return a})},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!0;var a={},l=void 0,u=void 0;for(l=0,u=n.length;l<u;l++)a[n[l]]=!0;for(l=0,u=o.length;l<u;l++){var s=o[l],c=e[s],p=t[s];if(c!==p){if(!a[s]||null===c||null===p||"object"!==(void 0===c?"undefined":r(c))||"object"!==(void 0===p?"undefined":r(p)))return!0;var d=Object.keys(c),f=Object.keys(p);if(d.length!==f.length)return!0;for(var g=0,h=d.length;g<h;g++){var m=d[g];if(c[m]!==p[m])return!0}}}return!1}},function(e,t,n){e.exports={moreIcon:"toolbar-menu__more-icon___3VVW7",dropdown:"toolbar-menu__dropdown___1n-ap",menu:"toolbar-menu__menu___1gLW4",separator:"toolbar-menu__separator___21v7r",sortChoices:"toolbar-menu__sort-choices___2BQHE"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(9),o=n.n(r),i=n(29);function a(e,t){return l.apply(this,arguments)}function l(){return(l=o()(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(top.ajaxurl,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:Object(i.addQueryArgs)(void 0,Object.assign({_:"",_wpnonce:_abt_nonce,action:t},n)),credentials:"same-origin"}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56);t.AST=r;var o=n(83);t.parse=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57);t.AST=r;var o=n(85);t.parse=o.default},function(e,t,n){"use strict";var r=n(119),o=n.n(r);t.a=function(e){var t=e.children;return React.createElement("div",{className:o.a.toolbar},t)}},function(e,t,n){"use strict";var r=n(10),o=n(21),i=n.n(o),a=n(120),l=n.n(a);t.a=function(e){return function(t){return t.isOpen?React.createElement(r.Modal,{className:i()(l.a.modal,t.className),title:t.title,onRequestClose:t.onClose,shouldCloseOnEsc:!1},React.createElement(e,t)):null}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"get",function(){return f}),n.d(t,"deprecatedPubmedQuery",function(){return h}),n.d(t,"deprecatedGetFromPubmed",function(){return b});var r=n(24),o=n.n(r),i=n(9),a=n.n(i),l=n(29),u=n(64),s=n(25),c=n(20);function p(){var e=o()(["\n            https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi\n                ?tool=academic-bloggers-toolkit\n                &email=","\n                &db=","\n                &id=","\n                &version=2.0\n                &retmode=json\n        "]);return p=function(){return e},e}function d(){var e=o()(["\n            https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi\n                ?db=pubmed\n                &term=","\n                &retmode=json\n        "]);return d=function(){return e},e}function f(e,t){return g.apply(this,arguments)}function g(){return(g=a()(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object(l.addQueryArgs)("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi",{id:t,db:n,tool:"academic-bloggers-toolkit",email:"dereksifford@gmail.com",version:"2.0",retmode:"json"}));case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",new c.a(t,r));case 5:return e.t0=u.toCSL,e.next=8,r.json();case 8:return e.t1=e.sent,o=(0,e.t0)(e.t1)[0],e.abrupt("return",o instanceof Error?new c.a(t,r):Object.assign({},o,{URL:"pubmed"===n?"https://www.ncbi.nlm.nih.gov/pubmed/".concat(t):"https://www.ncbi.nlm.nih.gov/pmc/articles/".concat(t)}));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=a()(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object(s.b)(d(),encodeURIComponent(t)));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.statusText);case 5:return e.next=7,n.json();case 7:if(!(r=e.sent).error){e.next=10;break}throw new Error("".concat(top.ABT.i18n.errors.prefix,": pubmedQuery => ").concat(top.ABT.i18n.errors.bad_request));case 10:return e.prev=10,e.next=13,y("PMID",r.esearchresult.idlist.join());case 13:return o=e.sent,e.abrupt("return",o.data);case 17:if(e.prev=17,e.t0=e.catch(10),"string"!=typeof e.t0){e.next=21;break}return e.abrupt("return",[]);case 21:throw e.t0;case 22:case"end":return e.stop()}},e,this,[[10,17]])}))).apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=a()(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t,n);case 3:return r=e.sent,o=r.data,i=r.invalid,e.abrupt("return",[o,i.map(function(e){return e.apiError?e.message:"".concat(e.uid,": ").concat(e.message)})]);case 9:if(e.prev=9,e.t0=e.catch(0),"string"!=typeof e.t0){e.next=13;break}return e.abrupt("return",[[],[]]);case 13:throw e.t0;case 14:case"end":return e.stop()}},e,this,[[0,9]])}))).apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return(_=a()(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}throw"No ids to resolve";case 2:return r="PMID"===t?"pubmed":"pmc",e.next=5,fetch(Object(s.b)(p(),encodeURIComponent("dereksifford@gmail.com"),r,encodeURIComponent(n)));case 5:if((o=e.sent).ok){e.next=8;break}throw new Error(o.statusText);case 8:return e.next=10,o.json();case 10:return i=e.sent,a=Object(u.toCSL)(i),l=a.filter(function(e){return e instanceof Error}),c=a.filter(function(e){return e instanceof Error==!1}),e.abrupt("return",{data:c,invalid:l});case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"get",function(){return d}),n.d(t,"deprecatedGetFromURL",function(){return h});var r=n(14),o=n.n(r),i=n(15),a=n.n(i),l=n(9),u=n.n(l),s=n(43),c=n(22),p=n(20);function d(e){return f.apply(this,arguments)}function f(){return(f=u()(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)("get_website_meta",{url:t});case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",new p.a(t,n));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",Object.assign({id:Date.now().toString(),type:"webpage",title:Object(c.b)(r,["og.title","sailthru.title","title"]),URL:t,"container-title":r.og.site_name,author:r.authors},g("accessed",(new Date).toISOString()),g("issued",Object(c.b)(r,["issued","og.pubdate","article.published_time","sailthru.date"]))));case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(e,t){if(!t||isNaN(Date.parse(t)))return{};var n=new Date(t);return a()({},e,{raw:[n.getUTCFullYear(),"0".concat(n.getUTCMonth()+1).slice(-2),"0".concat(n.getUTCDate()).slice(-2)].join("/")})}function h(e){return m.apply(this,arguments)}function m(){return(m=u()(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)("get_website_meta",{url:t});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(501===n.status?top.ABT.i18n.errors.missing_php_features:n.statusText);case 5:return e.next=7,n.json();case 7:return r=e.sent,o=r.authors.map(function(e){return Object.assign({},e,{type:"author"})}),e.abrupt("return",{fields:{accessed:b((new Date).toISOString()),title:Object(c.b)(r,["og.title","sailthru.title","title"]),issued:b(Object(c.b)(r,["issued","og.pubdate","article.published_time","sailthru.date"])),"container-title":Object(c.b)(r,["og.site_name"]),URL:t},people:o});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(isNaN(Date.parse(e)))return"";var t=new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}).split("/"),n=o()(t,3),r=n[0],i=n[1],a=n[2];return"".concat(a,"/").concat(r,"/").concat(i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"get",function(){return d}),n.d(t,"deprecatedGetFromISBN",function(){return g});var r=n(14),o=n.n(r),i=n(15),a=n.n(i),l=n(9),u=n.n(l),s=n(29),c=n(27),p=n(20);function d(e){return f.apply(this,arguments)}function f(){return(f=u()(regeneratorRuntime.mark(function e(t){var n,r,i,l,u,d,f,g,h,m,b,v,y,_,k,w,S,O,j=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=j.length>1&&void 0!==j[1]&&j[1],e.next=3,fetch(Object(s.addQueryArgs)("https://www.googleapis.com/books/v1/volumes",{q:"isbn:".concat(t.replace(/-/g,""))}));case 3:if((i=e.sent).ok){e.next=6;break}return e.abrupt("return",new p.a(t,i));case 6:return e.next=8,i.json();case 8:if(0!==(l=e.sent).totalItems){e.next=11;break}return e.abrupt("return",new p.a(t,i));case 11:return u=l.items[0],d=u.id,f=u.volumeInfo,g=f.authors,h=f.pageCount,m=f.publishedDate,b=f.publisher,v=f.title,n={id:d,type:r?"chapter":"book",ISBN:t,publisher:b,"number-of-pages":h},a()(n,r?"container-title":"title",v),a()(n,"author",Array.isArray(g)?g.map(c.parseName):[]),y=n,m&&(_=m.split("-"),k=o()(_,3),w=k[0],S=k[1],O=k[2],y=Object.assign({},y,{issued:{"date-parts":[[w,S,O]]}})),e.abrupt("return",y);case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=u()(regeneratorRuntime.mark(function e(t,n){var r,o,i,l,u,s,p,d,f,g,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes?q=isbn:".concat(t.replace("-","")));case 2:if((o=e.sent).ok){e.next=5;break}throw new Error("".concat(top.ABT.i18n.errors.prefix,": getFromISBN => ").concat(top.ABT.i18n.errors.status_error));case 5:return e.next=7,o.json();case 7:if(0!==(i=e.sent).totalItems){e.next=10;break}throw new Error("".concat(top.ABT.i18n.errors.no_results));case 10:return l=i.items[0].volumeInfo,u=l.authors,s=l.pageCount,p=l.publishedDate,d=l.publisher,f=l.title,g=Array.isArray(u)?u.map(function(e){var t=Object(c.parseName)(e);return Object.assign({},t,{type:"author",given:t.given||"",family:t.family||""})}):[],h="chapter"===n?"container-title":"title",e.abrupt("return",{fields:(r={ISBN:t,issued:"string"==typeof p?p.replace(/-/g,"/"):"","number-of-pages":"number"==typeof s?s.toString():""},a()(r,h,f||""),a()(r,"publisher",d||""),r),people:g});case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={File:ut},a=ut,l=function(e){return{kind:"File",loc:et(),children:e}},u="@comment",s=tt("@comment",!0),c=/^[^\n\r]/,p=nt(["\n","\r"],!0,!1),d=/^[\n\r]/,f=nt(["\n","\r"],!1,!1),g=/^[^@]/,h=nt(["@"],!0,!1),m=function(e){return e},b="@",v=tt("@",!1),y=/^[A-Za-z]/,_=nt([["A","Z"],["a","z"]],!1,!1),k=/^[({]/,w=nt(["(","{"],!1,!1),S=/^[})]/,O=nt(["}",")"],!1,!1),j=function(e,t,n){return{kind:"Entry",id:t||"",type:e.toLowerCase(),loc:et(),properties:n}},x="@preamble",C=tt("@preamble",!0),I=function(e){return{kind:"PreambleExpression",loc:et(),value:e.reduce(function(e,t){return e.concat(t)},[])}},A="@string",E=tt("@string",!0),Y=function(e,t){return{kind:"StringExpression",loc:et(),key:e,value:t.reduce(function(e,t){return e.concat(t)},[])}},P=/^[^ \t\r\n,]/,M=nt([" ","\t","\r","\n",","],!0,!1),D=",",R=tt(",",!1),T=function(e){return e},L=function(e,t){return{kind:"Property",loc:et(),key:e.toLowerCase(),value:t}},N=/^[a-zA-Z0-9\-]/,F=nt([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),q=function(e){return e},B=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},U='"',H=tt('"',!1),z=function(e){return e},V="{",W=tt("{",!1),K="}",$=tt("}",!1),Z=/^[^{}\\]/,J=nt(["{","}","\\"],!0,!1),G=function(e){return{kind:"Text",loc:et(),value:(n=e,t=n.reduce(function(e,t){return/\s/.test(t)?/\s/.test(e[e.length-1])?e:e+" ":e+t},""),[[/---/g,"—"],[/--/g,"–"],[/~/g," "],[/</g,"¡"],[/>/g,"¿"]].reduce(function(e,t){return e=e.replace(t[0],t[1])},t))};var t,n},Q=/^[^{}"\\]/,X=nt(["{","}",'"',"\\"],!0,!1),ee=/^[0-9]/,te=nt([["0","9"]],!1,!1),ne=function(e){return{kind:"Number",loc:et(),value:parseInt(e,10)}},re=function(e){return{kind:"String",loc:et(),value:e}},oe=function(e){return{kind:"NestedLiteral",loc:et(),value:e}},ie="%",ae=tt("%",!1),le=/^[^\r\n]/,ue=nt(["\r","\n"],!0,!1),se=function(e){return{kind:"LineComment",loc:et(),value:e}},ce="\\",pe=tt("\\",!1),de=/^[a-zA-Z0-9]/,fe=nt([["a","z"],["A","Z"],["0","9"]],!1,!1),ge=function(e,t){return{kind:"DicraticalCommand",loc:et(),mark:e,character:t}},he=function(e,t){return{kind:"DicraticalCommand",loc:et(),mark:e,character:t}},me=/^[^A-Za-z0-9\t\r\n]/,be=nt([["A","Z"],["a","z"],["0","9"],"\t","\r","\n"],!0,!1),ve=function(e){return{kind:"SymbolCommand",loc:et(),value:e}},ye=function(e,t){return{kind:"RegularCommand",loc:et(),value:e,arguments:t}},_e="[",ke=tt("[",!1),we=/^[^\]]/,Se=nt(["]"],!0,!1),Oe="]",je=tt("]",!1),xe=function(e){return{kind:"OptionalArgument",loc:et(),value:e}},Ce=function(e){return{kind:"RequiredArgument",loc:et(),value:e}},Ie=/^[a-zA-Z\-_]/,Ae=nt([["a","z"],["A","Z"],"-","_"],!1,!1),Ee=/^[a-zA-Z0-9\-_:]/,Ye=nt([["a","z"],["A","Z"],["0","9"],"-","_",":"],!1,!1),Pe=/^['`=~\^.]/,Me=nt(["'","`","=","~","^","."],!1,!1),De=/^['`"c=buv~\^.drHk]/,Re=nt(["'","`",'"',"c","=","b","u","v","~","^",".","d","r","H","k"],!1,!1),Te="=",Le=tt("=",!1),Ne="#",Fe=tt("#",!1),qe=/^[\r\n]/,Be=nt(["\r","\n"],!1,!1),Ue=(rt("Mandatory Horizontal Whitespace"),/^[ \t]/),He=nt([" ","\t"],!1,!1),ze=rt("Optional Horizontal Whitespace"),Ve=(rt("Mandatory Vertical Whitespace"),rt("Optional Vertical Whitespace"),rt("Mandatory Whitespace"),/^[ \t\n\r]/),We=nt([" ","\t","\n","\r"],!1,!1),Ke=rt("Optional Whitespace"),$e=0,Ze=0,Je=[{line:1,column:1}],Ge=0,Qe=[],Xe=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function et(){return it(Ze,$e)}function tt(e,t){return{type:"literal",text:e,ignoreCase:t}}function nt(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function rt(e){return{type:"other",description:e}}function ot(t){var n,r=Je[t];if(r)return r;for(n=t-1;!Je[n];)n--;for(r={line:(r=Je[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Je[t]=r,r}function it(e,t){var n=ot(e),r=ot(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function at(e){$e<Ge||($e>Ge&&(Ge=$e,Qe=[]),Qe.push(e))}function lt(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function ut(){var e,t,n;if(e=$e,jt()!==o){for(t=[],n=ct();n!==o;)t.push(n),n=ct();t!==o&&(n=jt())!==o?(Ze=e,e=l(t)):($e=e,e=o)}else $e=e,e=o;return e}function st(){var t,n,r,i,a;if(t=$e,e.substr($e,8).toLowerCase()===u?(n=e.substr($e,8),$e+=8):(n=o,0===Xe&&at(s)),n!==o){for(r=[],c.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(p));i!==o;)r.push(i),c.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(p));if(r!==o){for(i=[],d.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(f));a!==o;)i.push(a),d.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(f));i!==o?t=n=[n,r,i]:($e=t,t=o)}else $e=t,t=o}else $e=t,t=o;if(t===o)if(t=$e,g.test(e.charAt($e))?(n=e.charAt($e),$e++):(n=o,0===Xe&&at(h)),n!==o){for(r=[],c.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(p));i!==o;)r.push(i),c.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(p));if(r!==o){for(i=[],d.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(f));a!==o;)i.push(a),d.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(f));i!==o?t=n=[n,r,i]:($e=t,t=o)}else $e=t,t=o}else $e=t,t=o;return t}function ct(){var t,n,r,i,a;for(t=$e,n=[],r=st();r!==o;)n.push(r),r=st();if(n!==o)if((r=function(){var t,n,r,i,a,l;if(t=$e,e.substr($e,9).toLowerCase()===x?(n=e.substr($e,9),$e+=9):(n=o,0===Xe&&at(C)),n!==o)if(jt()!==o)if(k.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(w)),r!==o)if(jt()!==o){for(i=[],a=dt();a!==o;)i.push(a),a=dt();i!==o&&(a=jt())!==o?(S.test(e.charAt($e))?(l=e.charAt($e),$e++):(l=o,0===Xe&&at(O)),l!==o&&jt()!==o?(Ze=t,n=I(i),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;return t}())===o&&(r=function(){var t,n,r,i,a,l,u;if(t=$e,e.substr($e,7).toLowerCase()===A?(n=e.substr($e,7),$e+=7):(n=o,0===Xe&&at(E)),n!==o)if(jt()!==o)if(k.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(w)),r!==o)if(jt()!==o)if((i=_t())!==o)if(kt()!==o){if(a=[],(l=dt())!==o)for(;l!==o;)a.push(l),l=dt();else a=o;a!==o&&(l=jt())!==o?(S.test(e.charAt($e))?(u=e.charAt($e),$e++):(u=o,0===Xe&&at(O)),u!==o&&jt()!==o?(Ze=t,n=Y(i,a),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;return t}())===o&&(r=function(){var t,n,r,i,a,l,u,s,c;if(t=$e,64===e.charCodeAt($e)?(n=b,$e++):(n=o,0===Xe&&at(v)),n!==o){if(r=$e,i=[],y.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(_)),a!==o)for(;a!==o;)i.push(a),y.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(_));else i=o;if((r=i!==o?e.substring(r,$e):i)!==o)if(k.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(w)),i!==o)if((a=jt())!==o)if((l=function(){var t,n,r,i,a;if(t=$e,(n=jt())!==o){for(r=$e,i=[],P.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(M));a!==o;)i.push(a),P.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(M));(r=i!==o?e.substring(r,$e):i)!==o&&(i=jt())!==o?(44===e.charCodeAt($e)?(a=D,$e++):(a=o,0===Xe&&at(R)),a!==o?(Ze=t,n=T(r),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;return t}())===o&&(l=null),l!==o)if(jt()!==o){for(u=[],s=pt();s!==o;)u.push(s),s=pt();u!==o&&(s=jt())!==o?(S.test(e.charAt($e))?(c=e.charAt($e),$e++):(c=o,0===Xe&&at(O)),c!==o&&jt()!==o?(Ze=t,n=j(r,l,u),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;else $e=t,t=o}else $e=t,t=o;return t}()),r!==o){for(i=[],a=st();a!==o;)i.push(a),a=st();i!==o?(Ze=t,t=n=m(r)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;return t}function pt(){var t,n,r;return t=$e,(n=function(){var t,n,r,i,a;if(t=$e,(n=jt())!==o){if(r=$e,i=[],N.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(F)),a!==o)for(;a!==o;)i.push(a),N.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(F));else i=o;(r=i!==o?e.substring(r,$e):i)!==o?(Ze=t,n=q(r),t=n):($e=t,t=o)}else $e=t,t=o;return t}())!==o&&kt()!==o&&(r=function(){var t,n,r;if((t=function(){var t,n,r,i;if(t=$e,n=$e,r=[],ee.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(te)),i!==o)for(;i!==o;)r.push(i),ee.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(te));else r=o;return(n=r!==o?e.substring(n,$e):r)!==o&&(Ze=t,n=ne(n)),t=n}())===o){for(t=$e,n=[],(r=dt())===o&&(r=ft());r!==o;)n.push(r),(r=dt())===o&&(r=ft());n!==o&&(Ze=t,n=B(n)),t=n}return t}())!==o&&function(){var t,n,r,i,a,l;if(t=$e,(n=jt())!==o)if(44===e.charCodeAt($e)?(r=D,$e++):(r=o,0===Xe&&at(R)),r===o&&(r=null),r!==o)if((i=Ot())!==o){for(a=[],(l=bt())===o&&(l=St());l!==o;)a.push(l),(l=bt())===o&&(l=St());a!==o?t=n=[n,r,i,a]:($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;else $e=t,t=o;return t}()!==o?(Ze=t,t=n=L(n,r)):($e=t,t=o),t}function dt(){var t,n,r,i,a;if(t=$e,34===e.charCodeAt($e)?(n=U,$e++):(n=o,0===Xe&&at(H)),n!==o){for(r=[],(i=mt())===o&&(i=vt())===o&&(i=ht());i!==o;)r.push(i),(i=mt())===o&&(i=vt())===o&&(i=ht());r!==o?(34===e.charCodeAt($e)?(i=U,$e++):(i=o,0===Xe&&at(H)),i!==o?((a=wt())===o&&(a=null),a!==o?(Ze=t,t=n=z(r)):($e=t,t=o)):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;if(t===o)if(t=$e,123===e.charCodeAt($e)?(n=V,$e++):(n=o,0===Xe&&at(W)),n!==o){for(r=[],(i=mt())===o&&(i=vt())===o&&(i=gt());i!==o;)r.push(i),(i=mt())===o&&(i=vt())===o&&(i=gt());r!==o?(125===e.charCodeAt($e)?(i=K,$e++):(i=o,0===Xe&&at($)),i!==o?((a=wt())===o&&(a=null),a!==o?(Ze=t,t=n=z(r)):($e=t,t=o)):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;return t}function ft(){var e,t,n;return e=$e,(t=function(){var e,t;return e=$e,(t=_t())!==o&&(Ze=e,t=re(t)),e=t}())!==o?((n=wt())===o&&(n=null),n!==o?(Ze=e,e=t=z(t)):($e=e,e=o)):($e=e,e=o),e}function gt(){var t,n,r;if(t=$e,n=[],Z.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(J)),r!==o)for(;r!==o;)n.push(r),Z.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(J));else n=o;return n!==o&&(Ze=t,n=G(n)),t=n}function ht(){var t,n,r;if(t=$e,n=[],Q.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(X)),r!==o)for(;r!==o;)n.push(r),Q.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(X));else n=o;return n!==o&&(Ze=t,n=G(n)),t=n}function mt(){var t,n,r,i;if(t=$e,123===e.charCodeAt($e)?(n=V,$e++):(n=o,0===Xe&&at(W)),n!==o){for(r=[],(i=gt())===o&&(i=vt())===o&&(i=mt());i!==o;)r.push(i),(i=gt())===o&&(i=vt())===o&&(i=mt());r!==o?(125===e.charCodeAt($e)?(i=K,$e++):(i=o,0===Xe&&at($)),i!==o?(Ze=t,t=n=oe(r)):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;return t}function bt(){var t,n,r,i,a;if(t=$e,37===e.charCodeAt($e)?(n=ie,$e++):(n=o,0===Xe&&at(ae)),n!==o)if(Ot()!==o){if(r=$e,i=[],le.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(ue)),a!==o)for(;a!==o;)i.push(a),le.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(ue));else i=o;if((r=i!==o?e.substring(r,$e):i)!==o){if(i=[],(a=St())!==o)for(;a!==o;)i.push(a),a=St();else i=o;i!==o?(Ze=t,t=n=se(r)):($e=t,t=o)}else $e=t,t=o}else $e=t,t=o;else $e=t,t=o;return t}function vt(){var t;return(t=function(){var t,n,r,i,a,l;return t=$e,92===e.charCodeAt($e)?(n=ce,$e++):(n=o,0===Xe&&at(pe)),n!==o&&(r=function(){var t;return Pe.test(e.charAt($e))?(t=e.charAt($e),$e++):(t=o,0===Xe&&at(Me)),t}())!==o?(de.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(fe)),i!==o?(Ze=t,n=ge(r,i),t=n):($e=t,t=o)):($e=t,t=o),t===o&&(t=$e,92===e.charCodeAt($e)?(n=ce,$e++):(n=o,0===Xe&&at(pe)),n!==o&&(r=function(){var t;return De.test(e.charAt($e))?(t=e.charAt($e),$e++):(t=o,0===Xe&&at(Re)),t}())!==o?(123===e.charCodeAt($e)?(i=V,$e++):(i=o,0===Xe&&at(W)),i!==o?(de.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(fe)),a!==o?(125===e.charCodeAt($e)?(l=K,$e++):(l=o,0===Xe&&at($)),l!==o?(Ze=t,n=he(r,a),t=n):($e=t,t=o)):($e=t,t=o)):($e=t,t=o)):($e=t,t=o)),t}())===o&&(t=function(){var t,n,r,i,a;if(t=$e,92===e.charCodeAt($e)?(n=ce,$e++):(n=o,0===Xe&&at(pe)),n!==o){if(r=$e,i=[],y.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(_)),a!==o)for(;a!==o;)i.push(a),y.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(_));else i=o;if((r=i!==o?e.substring(r,$e):i)!==o){for(i=[],a=yt();a!==o;)i.push(a),a=yt();i!==o?(Ze=t,n=ye(r,i),t=n):($e=t,t=o)}else $e=t,t=o}else $e=t,t=o;return t}())===o&&(t=function(){var t,n,r,i;return t=$e,92===e.charCodeAt($e)?(n=ce,$e++):(n=o,0===Xe&&at(pe)),n!==o?(r=$e,me.test(e.charAt($e))?(i=e.charAt($e),$e++):(i=o,0===Xe&&at(be)),(r=i!==o?e.substring(r,$e):i)!==o?(Ze=t,n=ve(r),t=n):($e=t,t=o)):($e=t,t=o),t}()),t}function yt(){var t;return(t=function(){var t,n,r,i,a;if(t=$e,123===e.charCodeAt($e)?(n=V,$e++):(n=o,0===Xe&&at(W)),n!==o)if(Ot()!==o){for(r=[],(i=vt())===o&&(i=gt());i!==o;)r.push(i),(i=vt())===o&&(i=gt());r!==o&&(i=Ot())!==o?(125===e.charCodeAt($e)?(a=K,$e++):(a=o,0===Xe&&at($)),a!==o?(Ze=t,n=Ce(r),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;return t}())===o&&(t=function(){var t,n,r,i,a;if(t=$e,91===e.charCodeAt($e)?(n=_e,$e++):(n=o,0===Xe&&at(ke)),n!==o)if(Ot()!==o){if(r=$e,i=[],we.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(Se)),a!==o)for(;a!==o;)i.push(a),we.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(Se));else i=o;(r=i!==o?e.substring(r,$e):i)!==o&&(i=Ot())!==o?(93===e.charCodeAt($e)?(a=Oe,$e++):(a=o,0===Xe&&at(je)),a!==o?(Ze=t,n=xe(r),t=n):($e=t,t=o)):($e=t,t=o)}else $e=t,t=o;else $e=t,t=o;return t}()),t}function _t(){var t,n,r,i,a;if(t=$e,n=$e,Ie.test(e.charAt($e))?(r=e.charAt($e),$e++):(r=o,0===Xe&&at(Ae)),r!==o){if(i=[],Ee.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(Ye)),a!==o)for(;a!==o;)i.push(a),Ee.test(e.charAt($e))?(a=e.charAt($e),$e++):(a=o,0===Xe&&at(Ye));else i=o;i!==o?n=r=[r,i]:($e=n,n=o)}else $e=n,n=o;return t=n!==o?e.substring(t,$e):n}function kt(){var t,n,r,i;return t=$e,(n=Ot())!==o?(61===e.charCodeAt($e)?(r=Te,$e++):(r=o,0===Xe&&at(Le)),r!==o&&(i=Ot())!==o?t=n=[n,r,i]:($e=t,t=o)):($e=t,t=o),t}function wt(){var t,n,r,i;return t=$e,(n=jt())!==o?(35===e.charCodeAt($e)?(r=Ne,$e++):(r=o,0===Xe&&at(Fe)),r!==o&&(i=jt())!==o?t=n=[n,r,i]:($e=t,t=o)):($e=t,t=o),t}function St(){var t;return qe.test(e.charAt($e))?(t=e.charAt($e),$e++):(t=o,0===Xe&&at(Be)),t}function Ot(){var t,n;for(Xe++,t=[],Ue.test(e.charAt($e))?(n=e.charAt($e),$e++):(n=o,0===Xe&&at(He));n!==o;)t.push(n),Ue.test(e.charAt($e))?(n=e.charAt($e),$e++):(n=o,0===Xe&&at(He));return Xe--,t===o&&(n=o,0===Xe&&at(ze)),t}function jt(){var t,n;for(Xe++,t=[],Ve.test(e.charAt($e))?(n=e.charAt($e),$e++):(n=o,0===Xe&&at(We));n!==o;)t.push(n),Ve.test(e.charAt($e))?(n=e.charAt($e),$e++):(n=o,0===Xe&&at(We));return Xe--,t===o&&(n=o,0===Xe&&at(Ke)),t}if((n=a())!==o&&$e===e.length)return n;throw n!==o&&$e<e.length&&at({type:"end"}),lt(Qe,Ge<e.length?e.charAt(Ge):null,Ge<e.length?it(Ge,Ge+1):it(Ge,Ge))}}},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={File:K},a=K,l=function(e){return{kind:"File",loc:F(),children:e}},u=function(e,t){return{kind:"Entry",loc:F(),type:e,properties:t}},s=function(e,t){return{type:"Property",loc:F(),key:e,value:t}},c="ER",p=q("ER",!1),d=/^[A-Z0-9]/,f=B([["A","Z"],["0","9"]],!1,!1),g=function(e){return e},h=/^[^\r\n]/,m=B(["\r","\n"],!0,!1),b=function(e){return e},v="-",y=q("-",!1),_="TY",k=q("TY",!1),w=function(e){return e},S="\n",O=q("\n",!1),j="\r\n",x=q("\r\n",!1),C=U("Mandatory Horizontal Whitespace"),I=/^[ \t]/,A=B([" ","\t"],!1,!1),E=(U("Optional Horizontal Whitespace"),U("Mandatory Vertical Whitespace"),B(["\r","\n"],!1,!1),U("Optional Vertical Whitespace"),U("Mandatory Whitespace"),/^[ \t\n\r]/),Y=B([" ","\t","\n","\r"],!1,!1),P=U("Optional Whitespace"),M=0,D=0,R=[{line:1,column:1}],T=0,L=[],N=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function F(){return z(D,M)}function q(e,t){return{type:"literal",text:e,ignoreCase:t}}function B(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function U(e){return{type:"other",description:e}}function H(t){var n,r=R[t];if(r)return r;for(n=t-1;!R[n];)n--;for(r={line:(r=R[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return R[t]=r,r}function z(e,t){var n=H(e),r=H(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function V(e){M<T||(M>T&&(T=M,L=[]),L.push(e))}function W(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function K(){var e,t,n;if(e=M,ee()!==o){if(t=[],(n=$())!==o)for(;n!==o;)t.push(n),n=$();else t=o;t!==o&&(n=ee())!==o?(D=e,e=l(t)):(M=e,e=o)}else M=e,e=o;return e}function $(){var t,n,r,i;if(t=M,(n=function(){var t,n,r;return t=M,e.substr(M,2)===_?(n=_,M+=2):(n=o,0===N&&V(k)),n!==o&&G()!==o&&(r=J())!==o&&ee()!==o?(D=t,n=w(r),t=n):(M=t,t=o),t}())!==o){if(r=[],(i=Z())!==o)for(;i!==o;)r.push(i),i=Z();else r=o;r!==o&&(i=function(){var t,n,r,i,a;return t=M,e.substr(M,2)===c?(n=c,M+=2):(n=o,0===N&&V(p)),n!==o&&(r=X())!==o?(45===e.charCodeAt(M)?(i=v,M++):(i=o,0===N&&V(y)),i!==o&&(a=ee())!==o?t=n=[n,r,i,a]:(M=t,t=o)):(M=t,t=o),t}())!==o?(D=t,t=n=u(n,r)):(M=t,t=o)}else M=t,t=o;return t}function Z(){var t,n,r,i,a;if(t=M,(n=function(){var t,n,r,i,a;if(t=M,n=M,N++,e.substr(M,2)===c?(r=c,M+=2):(r=o,0===N&&V(p)),N--,r===o?n=void 0:(M=n,n=o),n!==o){if(r=M,i=[],d.test(e.charAt(M))?(a=e.charAt(M),M++):(a=o,0===N&&V(f)),a!==o)for(;a!==o;)i.push(a),d.test(e.charAt(M))?(a=e.charAt(M),M++):(a=o,0===N&&V(f));else i=o;(r=i!==o?e.substring(r,M):i)!==o?(D=t,n=g(r),t=n):(M=t,t=o)}else M=t,t=o;return t}())!==o)if(G()!==o)if((r=J())!==o){if(i=[],(a=Q())!==o)for(;a!==o;)i.push(a),a=Q();else i=o;i!==o?(D=t,t=n=s(n,r)):(M=t,t=o)}else M=t,t=o;else M=t,t=o;else M=t,t=o;return t}function J(){var t,n,r,i;for(t=M,n=M,r=[],h.test(e.charAt(M))?(i=e.charAt(M),M++):(i=o,0===N&&V(m));i!==o;)r.push(i),h.test(e.charAt(M))?(i=e.charAt(M),M++):(i=o,0===N&&V(m));return(n=r!==o?e.substring(n,M):r)!==o&&(D=t,n=b(n)),t=n}function G(){var t,n,r,i;return t=M,(n=X())!==o?(45===e.charCodeAt(M)?(r=v,M++):(r=o,0===N&&V(y)),r!==o&&(i=X())!==o?t=n=[n,r,i]:(M=t,t=o)):(M=t,t=o),t}function Q(){var t;return 10===e.charCodeAt(M)?(t=S,M++):(t=o,0===N&&V(O)),t===o&&(e.substr(M,2)===j?(t=j,M+=2):(t=o,0===N&&V(x))),t}function X(){var t,n;if(N++,t=[],I.test(e.charAt(M))?(n=e.charAt(M),M++):(n=o,0===N&&V(A)),n!==o)for(;n!==o;)t.push(n),I.test(e.charAt(M))?(n=e.charAt(M),M++):(n=o,0===N&&V(A));else t=o;return N--,t===o&&(n=o,0===N&&V(C)),t}function ee(){var t,n;for(N++,t=[],E.test(e.charAt(M))?(n=e.charAt(M),M++):(n=o,0===N&&V(Y));n!==o;)t.push(n),E.test(e.charAt(M))?(n=e.charAt(M),M++):(n=o,0===N&&V(Y));return N--,t===o&&(n=o,0===N&&V(P)),t}if((n=a())!==o&&M===e.length)return n;throw n!==o&&M<e.length&&V({type:"end"}),W(L,T<e.length?e.charAt(T):null,T<e.length?z(T,T+1):z(T,T))}}},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return d});var r=n(9),o=n.n(r),i=n(0),a=n(48),l=n(49);function u(e){return s.apply(this,arguments)}function s(){return(s=o()(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FileReader,e.next=3,new Promise(function(e,r){n.addEventListener("load",e),n.addEventListener("error",r),n.readAsText(t)});case 3:if("string"==typeof n.result){e.next=5;break}throw new Error("Error reading file.");case 5:return e.abrupt("return",n.result);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function c(e){return p.apply(this,arguments)}function p(){return(p=o()(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name.substring(t.name.lastIndexOf(".")).toLowerCase(),e.next=3,u(t);case 3:r=e.sent,e.t0=n,e.next=".ris"===e.t0?7:".bib"===e.t0?9:".bibtex"===e.t0?9:11;break;case 7:return o=Object(l.parse)(r),e.abrupt("return",o);case 9:return i=Object(a.parse)(r),e.abrupt("return",i);case 11:throw new Error("Invalid file extension: ".concat(n));case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=o()(regeneratorRuntime.mark(function e(t){var n,r,o,a,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:if(n=e.sent,r=(new DOMParser).parseFromString(n,"application/xml"),o=r.querySelector("parsererror"),a=r.querySelector("info title"),l=r.querySelector("info title-short"),!o){e.next=10;break}throw s=o.querySelector("div"),new Error(s&&s.textContent?s.textContent:Object(i.__)("Error parsing CSL file.","academic-bloggers-toolkit"));case 10:if(a&&a.textContent){e.next=12;break}throw new Error(Object(i.__)("Error parsing CSL file.","academic-bloggers-toolkit"));case 12:return c=n.replace(/(?:[\r\n]|<!--.*?-->)/g,"").replace(/(>)(\s+?)(<)/g,"$1$3"),e.abrupt("return",{kind:"custom",value:c,label:a.textContent,shortTitle:l&&l.textContent?l.textContent:void 0});case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),l=n(7),u=n.n(l),s=n(6),c=n.n(s),p=n(8),d=n.n(p),f=n(12),g=n(0),h=n(60),m=n.n(h),b=n(17),v=n.n(b),y=n(61),_=n.n(y),k=n(62),w=n.n(k),S=function(e){function t(){var e;return o()(this,t),(e=u()(this,c()(t).apply(this,arguments))).state={inputValue:e.props.value.label,suggestions:[]},e.search=v.a.debounce(function(t){var n=t.value;e.setState({suggestions:e.fuse.search(n).slice(0,10)})},500,{leading:!0,trailing:!0}),e.inputProps={placeholder:Object(g.__)("Search for a citation style...","academic-bloggers-toolkit"),required:!0,type:"search",value:"",onChange:function(t,n){var r=n.method,o=n.newValue;switch(r){case"escape":return e.setState({inputValue:""});default:return e.setState({inputValue:o})}},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}},e.ref=Object(f.createRef)(),e.getSuggestionValue=function(e){return e.label},e.onSuggestionSelected=function(t,n){var r=n.suggestion;e.setValidity(),e.props.onChange(r)},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.onSuggestionsFetchRequested=function(t){"input-changed"===t.reason&&e.setValidity(!1),e.search(t)},e.setValidity=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.ref.current&&e.ref.current.input.setCustomValidity(t?"":Object(g.__)("Invalid citation style","academic-bloggers-toolkit"))},e}return d()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.autofocus&&setTimeout(function(){e.ref.current&&e.ref.current.input.focus()},100)}},{key:"render",value:function(){return React.createElement(_.a,{ref:this.ref,suggestions:this.state.suggestions,getSuggestionValue:this.getSuggestionValue,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,renderSuggestion:this.getSuggestionValue,inputProps:Object.assign({},this.inputProps,{value:this.state.inputValue}),theme:w.a})}},{key:"fuse",get:function(){return new m.a(this.props.styleJSON.styles,{shouldSort:!0,threshold:.3,location:0,distance:50,maxPatternLength:32,minMatchCharLength:2,keys:[{name:"label",weight:.4},{name:"value",weight:.2},{name:"shortTitle",weight:.4}]})}}]),t}(f.Component);t.b=S},function(e,t,n){
/*!
 * Fuse.js v3.3.0 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(5),i=n(7),a=n(4),l=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,l=void 0===i?100:i,u=n.threshold,s=void 0===u?.6:u,c=n.maxPatternLength,p=void 0===c?32:c,d=n.isCaseSensitive,f=void 0!==d&&d,g=n.tokenSeparator,h=void 0===g?/ +/g:g,m=n.findAllMatches,b=void 0!==m&&m,v=n.minMatchCharLength,y=void 0===v?1:v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:l,threshold:s,maxPatternLength:p,isCaseSensitive:f,tokenSeparator:h,findAllMatches:b,minMatchCharLength:y},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=p&&(this.patternAlphabet=a(this.pattern))}return r(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,r);var a=this.options,l=a.location,u=a.distance,s=a.threshold,c=a.findAllMatches,p=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:l,distance:u,threshold:s,findAllMatches:c,minMatchCharLength:p})}}]),e}();e.exports=l},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var i=n.indexOf("."),a=n,l=null;-1!==i&&(a=n.slice(0,i),l=n.slice(i+1));var u=t[a];if(null!=u)if(l||"string"!=typeof u&&"number"!=typeof u)if(r(u))for(var s=0,c=u.length;s<c;s+=1)e(u[s],l,o);else l&&e(u,l,o);else o.push(u.toString())}else o.push(t);return o}(e,t,[])}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var l=e[i];l&&-1===r?r=i:l||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){"use strict";var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,"\\$&").replace(n,"|")),i=e.match(o),a=!!i,l=[];if(a)for(var u=0,s=i.length;u<s;u+=1){var c=i[u];l.push([e.indexOf(c),c.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:l}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,l=void 0===a?0:a,u=t.distance,s=void 0===u?100:u,c=r/e.length,p=Math.abs(l-i);return s?c+p/s:p?1:c}},function(e,t,n){"use strict";var r=n(6),o=n(3);e.exports=function(e,t,n,i){for(var a=i.location,l=void 0===a?0:a,u=i.distance,s=void 0===u?100:u,c=i.threshold,p=void 0===c?.6:c,d=i.findAllMatches,f=void 0!==d&&d,g=i.minMatchCharLength,h=void 0===g?1:g,m=l,b=e.length,v=p,y=e.indexOf(t,m),_=t.length,k=[],w=0;w<b;w+=1)k[w]=0;if(-1!==y){var S=r(t,{errors:0,currentLocation:y,expectedLocation:m,distance:s});if(v=Math.min(S,v),-1!==(y=e.lastIndexOf(t,m+_))){var O=r(t,{errors:0,currentLocation:y,expectedLocation:m,distance:s});v=Math.min(O,v)}}y=-1;for(var j=[],x=1,C=_+b,I=1<<_-1,A=0;A<_;A+=1){for(var E=0,Y=C;E<Y;){r(t,{errors:A,currentLocation:m+Y,expectedLocation:m,distance:s})<=v?E=Y:C=Y,Y=Math.floor((C-E)/2+E)}C=Y;var P=Math.max(1,m-Y+1),M=f?b:Math.min(m+Y,b)+_,D=Array(M+2);D[M+1]=(1<<A)-1;for(var R=M;R>=P;R-=1){var T=R-1,L=n[e.charAt(T)];if(L&&(k[T]=1),D[R]=(D[R+1]<<1|1)&L,0!==A&&(D[R]|=(j[R+1]|j[R])<<1|1|j[R+1]),D[R]&I&&(x=r(t,{errors:A,currentLocation:T,expectedLocation:m,distance:s}))<=v){if(v=x,(y=T)<=m)break;P=Math.max(1,2*m-y)}}if(r(t,{errors:A+1,currentLocation:m,expectedLocation:m,distance:s})>v)break;j=D}return{isMatch:y>=0,score:0===x?.001:x,matchedIndices:o(k,h)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(2),a=n(0),l=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,a=n.distance,l=void 0===a?100:a,u=n.threshold,s=void 0===u?.6:u,c=n.maxPatternLength,p=void 0===c?32:c,d=n.caseSensitive,f=void 0!==d&&d,g=n.tokenSeparator,h=void 0===g?/ +/g:g,m=n.findAllMatches,b=void 0!==m&&m,v=n.minMatchCharLength,y=void 0===v?1:v,_=n.id,k=void 0===_?null:_,w=n.keys,S=void 0===w?[]:w,O=n.shouldSort,j=void 0===O||O,x=n.getFn,C=void 0===x?i:x,I=n.sortFn,A=void 0===I?function(e,t){return e.score-t.score}:I,E=n.tokenize,Y=void 0!==E&&E,P=n.matchAllTokens,M=void 0!==P&&P,D=n.includeMatches,R=void 0!==D&&D,T=n.includeScore,L=void 0!==T&&T,N=n.verbose,F=void 0!==N&&N;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:l,threshold:s,maxPatternLength:p,isCaseSensitive:f,tokenSeparator:h,findAllMatches:b,minMatchCharLength:y,id:k,keys:S,includeMatches:R,includeScore:L,shouldSort:j,getFn:C,sortFn:A,verbose:F,tokenize:Y,matchAllTokens:M},this.setCollection(t)}return r(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),n=t.tokenSearchers,r=t.fullSearcher,o=this._search(n,r),i=o.weights,a=o.results;return this._computeScore(i,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new o(n[r],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.list,r={},o=[];if("string"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var l={},u=0,s=n.length;u<s;u+=1)for(var c=n[u],p=0,d=this.options.keys.length;p<d;p+=1){var f=this.options.keys[p];if("string"!=typeof f){if(l[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else l[f]={weight:1};this._analyze({key:f,value:this.options.getFn(c,f),record:c,index:u},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:l,results:o}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,o=void 0===r?-1:r,i=e.value,l=e.record,u=e.index,s=t.tokenSearchers,c=void 0===s?[]:s,p=t.fullSearcher,d=void 0===p?[]:p,f=t.resultMap,g=void 0===f?{}:f,h=t.results,m=void 0===h?[]:h;if(null!=i){var b=!1,v=-1,y=0;if("string"==typeof i){this._log("\nKey: "+(""===n?"-":n));var _=d.search(i);if(this._log('Full text: "'+i+'", score: '+_.score),this.options.tokenize){for(var k=i.split(this.options.tokenSeparator),w=[],S=0;S<c.length;S+=1){var O=c[S];this._log('\nPattern: "'+O.pattern+'"');for(var j=!1,x=0;x<k.length;x+=1){var C=k[x],I=O.search(C),A={};I.isMatch?(A[C]=I.score,b=!0,j=!0,w.push(I.score)):(A[C]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'+C+'", score: '+A[C])}j&&(y+=1)}v=w[0];for(var E=w.length,Y=1;Y<E;Y+=1)v+=w[Y];v/=E,this._log("Token score average:",v)}var P=_.score;v>-1&&(P=(P+v)/2),this._log("Score average:",P);var M=!this.options.tokenize||!this.options.matchAllTokens||y>=c.length;if(this._log("\nCheck Matches: "+M),(b||_.isMatch)&&M){var D=g[u];D?D.output.push({key:n,arrayIndex:o,value:i,score:P,matchedIndices:_.matchedIndices}):(g[u]={item:l,output:[{key:n,arrayIndex:o,value:i,score:P,matchedIndices:_.matchedIndices}]},m.push(g[u]))}}else if(a(i))for(var R=0,T=i.length;R<T;R+=1)this._analyze({key:n,arrayIndex:R,value:i[R],record:l,index:u},{resultMap:g,results:m,tokenSearchers:c,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var o=t[n].output,i=o.length,a=1,l=1,u=0;u<i;u+=1){var s=e?e[o[u].key].weight:1,c=(1===s?o[u].score:o[u].score||.001)*s;1!==s?l=Math.min(l,c):(o[u].nScore=c,a*=c)}t[n].score=1===l?a:l,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this.options.verbose&&this._log("\n\nOutput:\n\n",JSON.stringify(e));var n=[];this.options.includeMatches&&n.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(var r=0,o=e.length;r<o;r+=1){var i=e[r];if(this.options.id&&(i.item=this.options.getFn(i.item,this.options.id)[0]),n.length){for(var a={item:i.item},l=0,u=n.length;l<u;l+=1)n[l](i,a);t.push(a)}else t.push(i.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=l}])},e.exports=r()},function(e,t,n){"use strict";e.exports=n(87).default},function(e,t,n){e.exports={input:"style__input___18rCW",inputOpen:"style__input-open___9MhgB",suggestionsContainerOpen:"style__suggestions-container-open___2v3ga",suggestionsList:"style__suggestions-list___1nWFE",suggestion:"style__suggestion___6BQvo",suggestionHighlighted:"style__suggestion-highlighted___17A0O"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(112);t.toCSL=r.toCSL,t.EUtilsError=r.EUtilsError},,,function(e,t,n){e.exports={people:"style__people___1v-ps",buttons:"style__buttons___1J2RO",person:"style__person___3s-So",personLiteral:"style__person-literal___WKFqT"}},function(e,t,n){"use strict";n.r(t),n.d(t,"get",function(){return p}),n.d(t,"deprecatedGetFromDOI",function(){return f});var r=n(2),o=n.n(r),i=n(9),a=n.n(i),l=n(17),u=n.n(l),s=n(32),c=n(20);function p(e){return d.apply(this,arguments)}function d(){return(d=a()(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://doi.org/".concat(encodeURIComponent(t)),{headers:{accept:"application/vnd.citationstyles.csl+json"}});case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",new c.a(t,n));case 5:return e.t0=u.a,e.next=8,n.json();case 8:return e.t1=e.sent,e.t2=s.b.filter(function(e){return"abstract"!==e}),e.abrupt("return",e.t0.pick.call(e.t0,e.t1,e.t2));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=a()(regeneratorRuntime.mark(function e(t){var n,r,i,a,l,u,s,c,p,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={data:new Set,invalid:new Set},r=new Headers({Accept:"application/vnd.citationstyles.csl+json"}),i=!0,a=!1,l=void 0,e.prev=5,u=t[Symbol.iterator]();case 7:if(i=(s=u.next()).done){e.next=28;break}return c=s.value,p="https://doi.org/".concat(encodeURIComponent(c)),e.next=12,fetch(p,{headers:r});case 12:if((d=e.sent).ok){e.next=16;break}return n.invalid.add(c),e.abrupt("continue",25);case 16:return e.t0=Object,e.t1={},e.next=20,d.json();case 20:e.t2=e.sent,e.t3={id:"0"},(f=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3))["container-title-short"]&&(f.journalAbbreviation=f["container-title-short"][0]),n.data.add(f);case 25:i=!0,e.next=7;break;case 28:e.next=34;break;case 30:e.prev=30,e.t4=e.catch(5),a=!0,l=e.t4;case 34:e.prev=34,e.prev=35,i||null==u.return||u.return();case 37:if(e.prev=37,!a){e.next=40;break}throw l;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.abrupt("return",[o()(n.data),o()(n.invalid)]);case 43:case"end":return e.stop()}},e,this,[[5,30,34,42],[35,,37,41]])}))).apply(this,arguments)}},,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var s in n=Object(arguments[u]))o.call(n,s)&&(l[s]=n[s]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(l[a[c]]=n[a[c]])}}return l}},,,,function(e,t,n){"use strict";t.a=function(e){var t=e.width,n=void 0===t?20:t,r=e.height,o=void 0===r?20:r;return React.createElement("svg",{viewBox:"0 0 20 20",width:n,height:o},React.createElement("path",{d:"M10 1c-5 0-9 4-9 9s4 9 9 9 9-4\n            9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7\n            7-7 7 3.1 7 7-3.1 7-7 7zM6 9v2h8V9H6z"}))}},function(e,t,n){e.exports={dialog:"style__dialog___2xhWJ",toolbar:"style__toolbar___eSzMt"}},,,function(e,t,n){var r=n(6),o=n(33),i=n(114),a=n(115);function l(t){var n="function"==typeof Map?new Map:void 0;return e.exports=l=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},l(t)}e.exports=l},,function(e,t,n){"use strict";
/** @license React v16.7.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(70),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,s=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.concurrent_mode"):60111,f=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,b="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,l){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,l],s=0;(e=Error(t.replace(/%s/g,function(){return u[s++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var O=S.prototype=new w;O.constructor=S,r(O,k.prototype),O.isPureReactComponent=!0;var j={current:null,currentDispatcher:null},x=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r=void 0,o={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:l,props:o,_owner:j.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g,Y=[];function P(e,t,n,r){if(Y.length){var o=Y.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Y.length&&Y.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,o){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var u=!1;if(null===t)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case a:u=!0}}if(u)return r(o,t,""===n?"."+R(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var c=n+R(l=t[s],s);u+=e(l,c,r,o)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=b&&t[b]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),s=0;!(l=t.next()).done;)u+=e(l=l.value,c=n+R(l,s++),r,o);else"object"===l&&v("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function T(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(E,"$&/")+"/"),D(e,L,t=P(t,i,r,o)),M(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,T,t=P(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return N(e,t,null,function(e){return e}),t},only:function(e){return A(e)||v("143"),e}},createRef:function(){return{current:null}},Component:k,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},Fragment:l,StrictMode:u,Suspense:g,createElement:I,cloneElement:function(e,t,n){null==e&&v("267",e);var o=void 0,a=r({},e.props),l=e.key,u=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,s=j.current),void 0!==t.key&&(l=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)x.call(t,o)&&!C.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){c=Array(o);for(var p=0;p<o;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:i,type:e.type,key:l,ref:u,props:a,_owner:s}},createFactory:function(e){var t=I.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.7.0",unstable_ConcurrentMode:d,unstable_Profiler:s,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:j,assign:r}},q={default:F},B=q&&F||q;e.exports=B.default||B},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=new Set(["'s","'s-","'t","a","aan 't","aan de","aan den","aan der","aan het","aan t","aan","am de","am","auf ter","ben","bij 't","bij de","bij den","bij het","bij t","bij","bin","boven d","boven d'","d","dal","dal'","dall'","dalla","de die le","de die","de l","de l'","de la","de las","de le","de van der","deca","dela","die le","do","don","het","i","il","im","in 't","in de","in den","in het","in t","in","l","l'","la","las","le","los","lou","of","onder 't","onder de","onder den","onder het","onder t","onder","op 't","op den","op der","op gen","op het","op t","op ten","op","over 't","over de","over den","over het","over t","over","s","s'","t","te","ten","ter","tho","thoe","thor","to","toe","tot","uijt 't","uijt de","uijt den","uijt te de","uijt ten","uijt","uit 't","uit de","uit den","uit het","uit t","uit te de","uit ten","uit","unter","v","v.","v.d.","van 't","van de l","van de l'","van de","van de","van den","van der","van gen","van het","van la","van t","van ter","van van de","vander","vd","ver","von 't","von t","voor 't","voor de","voor den","voor in 't","voor in t","voor"]);function a(e){return i.has(e.toLowerCase())?{"non-dropping-particle":e}:{"dropping-particle":e}}t.parseNameParticles=a,t.default=function(e){var t,n,i,l,u="",s="",c="",p="",d="";switch(e.split(",").length){case 1:if(!(t=e.match(/([A-Z][a-zA-Z-]+ )?([a-z][a-zA-Z-]+ .+? [a-z][a-zA-Z-]+ )?([A-Z].+)/)))break;u=(n=o(t,4))[1],s=n[2],c=n[3];break;case 2:if(!(t=e.match(/(.+ [a-z][a-zA-Z-]+ )?(.+), (.+)/)))break;s=(i=o(t,4))[1],c=i[2],u=i[3];break;case 3:if(!(t=e.match(/(.+ [a-z][a-zA-Z-]+ )?(.+), (.+), (.+)/)))break;s=(l=o(t,5))[1],c=l[2],p=l[3],u=l[4];break;default:d=e}return r({},c?{family:c.trim()}:{},u?{given:u.trim()}:{},p?{suffix:p.trim()}:{},s?a(s.trim()):{},d?{literal:d}:{})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=/^\s*([1-2][0-9]{3})(?:\/([0-1][0-9]))?(?:\/([0-3][0-9]))?(?:\/(spring|summer|fall|winter))?.*$/i,l=new Map([["spring","1"],["summer","2"],["fall","3"],["winter","4"]]);t.default=function(e){var t=(e="number"==typeof e?e.toString():e).match(a);if(!t)throw new Error("Date string could not be parsed");var n=o(t,5),u=n[1],s=n[2],c=n[3],p=n[4];return r({"date-parts":[i([u],s?[s]:[],c?[c]:[])]},p?{season:l.get(p.toLowerCase())}:{})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(27),u=n(84),s=n(56),c=function(e,t){var n,r,i="",a=Array.isArray(e)?e:[e];try{for(var l=o(a),s=l.next();!s.done;s=l.next()){var p=s.value;switch(p.kind){case"Text":case"Number":i+=p.value;break;case"String":i+=t.get(p.value)||"";break;case"NestedLiteral":i+=c(p.value,t);break;case"RegularCommand":case"SymbolCommand":i+=""+(u.KNOWN_COMMANDS.get(p.value)||"");break;case"DicraticalCommand":i+=""+p.character+u.DICRATICS.get(p.mark)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return i},p=function(e,t){var n,i,a,s,p={id:e.id,type:u.TYPE_MAP.get(e.type)||"article"},d=function(e){return void 0===e&&(e={value:""}),function(t){if(void 0===t&&(t={value:""}),e.kind)return"year"===e.kind?{issued:{"date-parts":[[e.value,t.value,""]]}}:{issued:{"date-parts":[[t.value,e.value,""]]}}}};try{for(var f=o(e.properties),g=f.next();!g.done;g=f.next()){var h=g.value;switch(h.key){case"year":case"month":d=d({kind:h.key,value:c(h.value,t)});break;case"author":case"editor":p=r({},p,((a={})[h.key]=c(h.value,t).split(/ and (?:others)?/g).filter(Boolean).map(l.parseName),a));break;default:var m=u.FIELD_MAP.get(h.key);m&&(p=r({},p,((s={})[m]=c(h.value,t),s)))}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}for(;"function"==typeof d;)d=d();return r({},p,d||{})};t.default=function(e){var t,n,r=new Map(u.KNOWN_MACROS),i=s.parse(e),l=[];try{for(var d=o(i.children),f=d.next();!f.done;f=d.next()){var g=f.value;switch(g.kind){case"StringExpression":r.set(g.key,c(g.value,r));break;case"Entry":l=a(l,[p(g,r)]);break;default:continue}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DICRATICS=new Map([["`","̀"],["'","́"],["^","̂"],["~","̃"],["=","̄"],['"',"̈"],["c","̧"],["b","̱"],["u","̆"],["v","̌"],[".","̇"],["d","̣"],["r","̊"],["H","̋"],["k","̨"]]),t.FIELD_MAP=new Map([["address","publisher-place"],["annote","annote"],["author","author"],["booktitle","container-title"],["chapter","chapter-number"],["edition","edition"],["editor","editor"],["howpublished","medium"],["institution","publisher"],["journal","container-title"],["note","note"],["number","number"],["organization","publisher"],["pages","page"],["publisher","publisher"],["school","publisher"],["series","collection-number"],["title","title"],["volume","volume"]]),t.KNOWN_COMMANDS=new Map([[","," "],["$","$"],["%","%"],["#","#"],["&","&"],["_","_"],["{","{"],["}","}"],[" "," "],["P","¶"],["S","§"],["ae","æ"],["copyright","©"],["dag","†"],["ddag","‡"],["dots","…"],["ldots","…"],["oe","œ"],["pounds","£"],["alpha","ɑ"],["beta","β"],["gamma","γ"],["delta","δ"],["epsilon","ε"],["zeta","ζ"],["eta","η"],["theta","θ"],["iota","ι"],["kappa","κ"],["lambda","λ"],["mu","μ"],["nu","ν"],["xi","ξ"],["pi","π"],["rho","ρ"],["varsigma","ς"],["sigma","σ"],["tau","τ"],["upsilon","υ"],["varphi","φ"],["phi","ϕ"],["chi","χ"],["psi","ψ"],["omega","ω"],["Gamma","Γ"],["Delta","Δ"],["Theta","Θ"],["Lambda","Λ"],["Xi","Ξ"],["Pi","Π"],["Sigma","Σ"],["Upsilon","Υ"],["Phi","Φ"],["Psi","Ψ"],["Omega","Ω"]]),t.KNOWN_MACROS=[["jan","01"],["feb","02"],["mar","03"],["apr","04"],["may","05"],["jun","06"],["jul","07"],["aug","08"],["sep","09"],["oct","10"],["nov","11"],["dec","12"],["acmcs","ACM Computing Surveys"],["acta","Acta Informatica"],["cacm","Communications of the ACM"],["ibmjrd","IBM Journal of Research and Development"],["ibmsj","IBM Systems Journal"],["ieeese","IEEE Transactions on Software Engineering"],["ieeetc","IEEE Transactions on Computers"],["ieeetcad","IEEE Transactions on Computer-Aided Design of Integrated Circuits"],["ipl","Information Processing Letters"],["jacm","Journal of the ACM"],["jcss","Journal of Computer and System Sciences"],["scp","Science of Computer Programming"],["sicomp","SIAM Journal on Computing"],["tocs","ACM Transactions on Computer Systems"],["tods","ACM Transactions on Database Systems"],["tog","ACM Transactions on Graphics"],["toms","ACM Transactions on Mathematical Software"],["toois","ACM Transactions on Office Information Systems"],["toplas","ACM Transactions on Programming Languages and Systems"],["tcs","Theoretical Computer Science"]],t.TYPE_MAP=new Map([["article","article"],["book","book"],["booklet","pamphlet"],["conference","paper-conference"],["electronic","webpage"],["inbook","chapter"],["incollection","chapter"],["inproceedings","paper-conference"],["manual","report"],["mastersthesis","thesis"],["misc","article"],["patent","patent"],["periodical","article-magazine"],["phdthesis","thesis"],["proceedings","paper-conference"],["standard","legislation"],["techreport","report"],["unpublished","manuscript"]])},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(27),u=n(86),s=n(57);var c=function(e){var t=e.key,n={"date-parts":[e.value.split("/").slice(0,3)]};return"Y2"===t?{accessed:n}:{issued:n}},p=new Map([["C2",function(e){var t=e.value;return/PMC/i.test(t)?{PMCID:t}:{PMID:t}}],["SN",function(e){var t=e.value,n=e.type;return-1===["book","chapter","entry-dictionary","entry-encyclopedia"].indexOf(n)?{ISSN:t}:{ISBN:t}}],["DA",c],["PY",c],["Y1",c],["Y2",c]]),d=function(e){var t,n,i,s,c,d,f=u.TYPE_MAP.get(e.type)||"article",g={id:String.fromCharCode(97+Math.floor(26*Math.random()))+Math.round(Math.random()*Date.now()).toString(30),type:f},h={author:new Set,editor:new Set,translator:new Set,keyword:new Set},m=function(e){return void 0===e&&(e={value:""}),function(t){if(void 0===t&&(t={value:""}),e.key)return"SP"===e.key?{page:e.value+(""===t.value?"":"-"+t.value)}:{page:(t.value?t.value+"-":"")+e.value}}};try{for(var b=o(e.properties),v=b.next();!v.done;v=b.next()){var y=v.value,_=p.get(y.key),k=u.FIELD_MAP.get(y.key);switch(_&&(g=r({},g,_({key:y.key,value:y.value,type:f}))),k&&(g=r({},g,((i={})[k]=y.value,i))),y.key){case"AU":case"A1":case"A2":case"A3":case"A4":h.author.add(l.parseName(y.value));break;case"ED":h.editor.add(l.parseName(y.value));break;case"TA":h.translator.add(l.parseName(y.value));break;case"KW":h.keyword.add(y.value);break;case"SP":case"EP":m=m({key:y.key,value:y.value})}}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}try{for(var w=o(Object.keys(h)),S=w.next();!S.done;S=w.next()){var O=h[k=S.value];h[k].size>0&&(g=r({},g,((d={})[k]=a(O),d)))}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}for(;"function"==typeof m;)m=m();return r({},g,m||{})};t.default=function(e){var t,n,r=s.parse(e),i=[];try{for(var l=o(r.children),u=l.next();!u.done;u=l.next()){var c=u.value;i=a(i,[d(c)])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_MAP=new Map([["ABST","article"],["ADVS","broadcast"],["AGGR","dataset"],["ANCIENT","article"],["ART","graphic"],["BILL","legislation"],["BLOG","post-weblog"],["BOOK","book"],["CASE","legal_case"],["CHAP","chapter"],["CHART","figure"],["CLSWK","musical_score"],["COMP","article"],["CONF","paper-conference"],["CPAPER","paper-conference"],["CTLG","article-magazine"],["DATA","dataset"],["DBASE","dataset"],["DICT","entry-dictionary"],["EBOOK","book"],["ECHAP","chapter"],["EDBOOK","book"],["EJOUR","article-journal"],["ELEC","webpage"],["ENCYC","entry-encyclopedia"],["EQUA","figure"],["FIGURE","figure"],["GEN","article"],["GOVDOC","legislation"],["GRANT","legislation"],["HEAR","legal_case"],["ICOMM","webpage"],["INPR","article-journal"],["JFULL","book"],["JOUR","article-journal"],["LEGAL","legal_case"],["MANSCPT","manuscript"],["MAP","map"],["MGZN","article-magazine"],["MPCT","motion_picture"],["MULTI","webpage"],["MUSIC","song"],["NEWS","article-newspaper"],["PAMP","pamphlet"],["PAT","patent"],["PCOMM","personal_communication"],["RPRT","report"],["SER","article"],["SLIDE","figure"],["SOUND","broadcast"],["STAND","legislation"],["STAT","legislation"],["THES","thesis"],["UNBILL","bill"],["UNPB","manuscript"],["VIDEO","broadcast"]]),t.FIELD_MAP=new Map([["AB","abstract"],["AD","publisher-place"],["AN","number"],["AV","archive_location"],["C3","event"],["C7","number"],["CA","annote"],["CN","call-number"],["CY","publisher-place"],["DB","source"],["DO","DOI"],["DP","archive"],["ET","edition"],["ID","id"],["IS","issue"],["J1","container-title"],["J2","journalAbbreviation"],["JA","journalAbbreviation"],["JF","container-title"],["JO","container-title"],["L2","URL"],["LA","language"],["LK","URL"],["M1","number"],["M3","note"],["N1","note"],["N2","abstract"],["NV","number-of-volumes"],["OP","original-title"],["PB","publisher"],["PP","publisher-place"],["RI","reviewed-title"],["RN","note"],["RP","status"],["SE","section"],["SP","page-first"],["ST","shortTitle"],["T1","title"],["T2","container-title"],["T3","collection-title"],["TI","title"],["UR","URL"],["VL","volume"],["VO","call-number"]])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=p(i),l=p(n(28)),u=p(n(90)),s=p(n(91)),c=n(99);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){return!0},f=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return g.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r.justMouseEntered=!1,r.pressedSuggestion=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,u.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&!1===this.justMouseEntered&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions():this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.suggestions,o=n.onSuggestionHighlighted,i=n.highlightFirstSuggestion;if(!(0,u.default)(r,e.suggestions)&&r.length>0&&i)this.highlightFirstSuggestion();else if(o){var a=this.getHighlightedSuggestion();a!=t.highlightedSuggestion&&o({suggestion:a})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){var r=this;this.setState(function(o){var i=o.valueBeforeUpDown;return null===t?i=null:null===i&&void 0!==n&&(i=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,highlightedSuggestion:null===t?null:r.getSuggestion(e,t),valueBeforeUpDown:i}})}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:n}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,o=n.multiSection,i=n.getSectionSuggestions;return o?i(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,o=r.value,i=r.onChange;t!==o&&i(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,o=n.value;return t.length>0&&r(o)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value,t=this.state.valueBeforeUpDown;return(null===t?e:t).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,o=t.renderInputComponent,i=t.onSuggestionsFetchRequested,l=t.renderSuggestion,u=t.inputProps,p=t.multiSection,f=t.renderSectionTitle,g=t.id,h=t.getSectionSuggestions,m=t.theme,b=t.getSuggestionValue,v=t.alwaysRenderSuggestions,y=t.highlightFirstSuggestion,_=this.state,k=_.isFocused,w=_.isCollapsed,S=_.highlightedSectionIndex,O=_.highlightedSuggestionIndex,j=_.valueBeforeUpDown,x=v?d:this.props.shouldRenderSuggestions,C=u.value,I=u.onFocus,A=u.onKeyDown,E=this.willRenderSuggestions(this.props),Y=v||k&&!w&&E,P=Y?n:[],M=r({},u,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=x(C);e.setState({isFocused:!0,isCollapsed:!n}),I&&I(t),n&&i({value:C,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,o=x(n);e.maybeCallOnChange(t,n,"type"),e.suggestionsContainer&&(e.suggestionsContainer.scrollTop=0),e.setState(r({},y?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!o})),o?i({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var o=t.keyCode;switch(o){case 40:case 38:if(w)x(C)&&(i({value:C,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var a=r.newHighlightedSectionIndex,l=r.newHighlightedItemIndex,u=void 0;u=null===l?null===j?C:j:e.getSuggestionValueByIndex(a,l),e.updateHighlightedSuggestion(a,l,C),e.maybeCallOnChange(t,u,40===o?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:if(229===t.keyCode)break;var s=e.getHighlightedSuggestion();if(Y&&!v&&e.closeSuggestions(),null!=s){var c=b(s);e.maybeCallOnChange(t,c,"enter"),e.onSuggestionSelected(t,{suggestion:s,suggestionValue:c,suggestionIndex:O,sectionIndex:S,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break;case 27:Y&&t.preventDefault();var p=Y&&!v;if(null===j){if(!p){e.maybeCallOnChange(t,"","escape"),x("")?i({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,j,"escape");p?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}A&&A(t)}}),D={query:this.getQuery()};return a.default.createElement(s.default,{multiSection:p,items:P,renderInputComponent:o,renderItemsContainer:this.renderSuggestionsContainer,renderItem:l,renderItemData:D,renderSectionTitle:f,getSectionItems:h,highlightedSectionIndex:S,highlightedItemIndex:O,inputProps:M,itemProps:this.itemProps,theme:(0,c.mapToAutowhateverTheme)(m),id:g,ref:this.storeAutowhateverRef})}}]),t}();f.propTypes={suggestions:l.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:l.default.func,onSuggestionHighlighted:l.default.func,renderInputComponent:l.default.func,renderSuggestionsContainer:l.default.func,getSuggestionValue:l.default.func.isRequired,renderSuggestion:l.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:l.default.func,alwaysRenderSuggestions:l.default.bool,multiSection:l.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:l.default.bool,highlightFirstSuggestion:l.default.bool,theme:l.default.object,id:l.default.string},f.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return a.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:c.defaultTheme,id:"1"};var g=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,o=n.itemIndex;e.updateHighlightedSuggestion(r,o),t.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!0),e.justMouseEntered=!0,setTimeout(function(){e.justMouseEntered=!1})},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onDocumentMouseUp=function(){e.pressedSuggestion&&!e.justSelectedSuggestion&&e.input.focus(),e.pressedSuggestion=null},this.onSuggestionMouseDown=function(t){e.justSelectedSuggestion||(e.justSelectedSuggestion=!0,e.pressedSuggestion=t.target)},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,o=r.alwaysRenderSuggestions,i=r.onSuggestionSelected,a=r.onSuggestionsFetchRequested;i&&i(t,n),o?a({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,o=n.focusInputOnSuggestionClick,i=e.getSuggestionIndices(e.findSuggestionElement(t.target)),a=i.sectionIndex,l=i.suggestionIndex,u=e.getSuggestion(a,l),s=e.props.getSuggestionValue(u);e.maybeCallOnChange(t,s,"click"),e.onSuggestionSelected(t,{suggestion:u,suggestionValue:s,suggestionIndex:l,sectionIndex:a,method:"click"}),r||e.closeSuggestions(),!0===o?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,o=n.value,i=n.onBlur,a=e.getHighlightedSuggestion(),l=r(o);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!l}),i&&i(e.blurEvent,{highlightedSuggestion:a})},this.onSuggestionMouseLeave=function(t){e.resetHighlightedSuggestion(!1),e.justSelectedSuggestion&&t.target===e.pressedSuggestion&&(e.justSelectedSuggestion=!1)},this.onSuggestionTouchStart=function(){e.justSelectedSuggestion=!0},this.onSuggestionTouchMove=function(){e.justSelectedSuggestion=!1,e.pressedSuggestion=null,e.input.focus()},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.onSuggestionMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionTouchStart,onTouchMove:e.onSuggestionTouchMove,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=f},function(e,t,n){"use strict";var r=n(89);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";e.exports=n(92).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=f(a),u=f(n(28)),s=f(n(93)),c=f(n(94)),p=f(n(96)),d=f(n(97));function f(e){return e&&e.__esModule?e:{default:e}}var g={},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,i=t.highlightedSectionIndex,a=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var l="ArrowDown"===e.key?"next":"prev",u=n.sectionIterator[l]([i,a]),s=o(u,2),c=s[0],p=s[1];r.onKeyDown(e,{newHighlightedSectionIndex:c,newHighlightedItemIndex:p});break;default:r.onKeyDown(e,{highlightedSectionIndex:i,highlightedItemIndex:a})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(t){return e.getSectionItems(t)}),this.sectionsLengths=this.sectionsItems.map(function(e){return e.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(e){return 0===e}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,s.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,c.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,o=n.items,i=n.renderItem,a=n.renderItemData,u=n.renderSectionTitle,s=n.highlightedSectionIndex,c=n.highlightedItemIndex,f=n.itemProps;return o.map(function(n,o){var g="react-autowhatever-"+r+"-",h=g+"section-"+o+"-",m=0===o;return l.default.createElement("div",t(h+"container","sectionContainer",m&&"sectionContainerFirst"),l.default.createElement(p.default,{section:n,renderSectionTitle:u,theme:t,sectionKeyPrefix:h}),l.default.createElement(d.default,{items:e.sectionsItems[o],itemProps:f,renderItem:i,renderItemData:a,sectionIndex:o,highlightedItemIndex:s===o?c:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:g,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,o=n.renderItem,i=n.renderItemData,a=n.highlightedSectionIndex,u=n.highlightedItemIndex,s=n.itemProps;return l.default.createElement(d.default,{items:e,itemProps:s,renderItem:o,renderItemData:i,highlightedItemIndex:null===a?u:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,o=t.multiSection,i=t.renderInputComponent,a=t.renderItemsContainer,u=t.highlightedSectionIndex,s=t.highlightedItemIndex,c=this.state.isInputFocused,p=o?this.renderSections():this.renderItems(),d=null!==p,f=this.getItemId(u,s),g="react-autowhatever-"+n,h=r({role:"combobox","aria-haspopup":"listbox","aria-owns":g,"aria-expanded":d},e("react-autowhatever-"+n+"-container","container",d&&"containerOpen"),this.props.containerProps),m=i(r({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":g,"aria-activedescendant":f},e("react-autowhatever-"+n+"-input","input",d&&"inputOpen",c&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),b=a({containerProps:r({id:g,role:"listbox"},e("react-autowhatever-"+n+"-items-container","itemsContainer",d&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:p});return l.default.createElement("div",h,m,b)}}]),t}();h.propTypes={id:u.default.string,multiSection:u.default.bool,renderInputComponent:u.default.func,renderItemsContainer:u.default.func,items:u.default.array.isRequired,renderItem:u.default.func,renderItemData:u.default.object,renderSectionTitle:u.default.func,getSectionItems:u.default.func,containerProps:u.default.object,inputProps:u.default.object,itemProps:u.default.oneOfType([u.default.object,u.default.func]),highlightedSectionIndex:u.default.number,highlightedItemIndex:u.default.number,theme:u.default.oneOfType([u.default.object,u.default.array])},h.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return l.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return l.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:g,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:g,inputProps:g,itemProps:g,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=h},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e){var t=e.data,n=e.multiSection;function o(e){var o=r(e,2),i=o[0],a=o[1];return n?null===a||a===t[i]-1?null===(i=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(i))?[null,null]:[i,0]:[i,a+1]:0===t||a===t-1?[null,null]:null===a?[null,0]:[null,a+1]}return{next:o,prev:function(e){var o=r(e,2),i=o[0],a=o[1];return n?null===a||0===a?null===(i=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(i))?[null,null]:[i,t[i]-1]:[i,a-1]:0===t||0===a?[null,null]:null===a?[null,t-1]:[null,a-1]},isLast:function(e){return null===o(e)[1]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i,a=n(95),l=(i=a)&&i.__esModule?i:{default:i},u=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=r(t,2),i=n[0],a=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=n.map(function(e){return i[e]}).filter(u);return"string"==typeof s[0]||"function"==typeof a?{key:e,className:a?a.apply(void 0,o(s)):s.join(" ")}:{key:e,style:l.default.apply(void 0,[{}].concat(o(s)))}}},e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){n=arguments[a],r=o(Object(n));for(var l=0;l<r.length;l++)i[r[l]]=n[r[l]]}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=u(o),a=u(n(28)),l=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,o=e.sectionKeyPrefix,a=n(t);return a?i.default.createElement("div",r(o+"title","sectionTitle"),a):null}}]),t}();s.propTypes={section:a.default.any.isRequired,renderSectionTitle:a.default.func.isRequired,theme:a.default.func.isRequired,sectionKeyPrefix:a.default.string.isRequired},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=c(i),l=c(n(28)),u=c(n(98)),s=c(n(41));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"shouldComponentUpdate",value:function(e){return(0,s.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,o=t.itemProps,i=t.renderItem,l=t.renderItemData,s=t.sectionIndex,c=t.highlightedItemIndex,p=t.getItemId,d=t.theme,f=t.keyPrefix,g=null===s?f:f+"section-"+s+"-",h="function"==typeof o;return a.default.createElement("ul",r({role:"listbox"},d(g+"items-list","itemsList")),n.map(function(t,n){var f=0===n,m=n===c,b=g+"item-"+n,v=h?o({sectionIndex:s,itemIndex:n}):o,y=r({id:p(s,n),"aria-selected":m},d(b,"item",f&&"itemFirst",m&&"itemHighlighted"),v);return m&&(y.ref=e.storeHighlightedItemReference),a.default.createElement(u.default,r({},y,{sectionIndex:s,isHighlighted:m,itemIndex:n,item:t,renderItem:i,renderItemData:l}))}))}}]),t}();d.propTypes={items:l.default.array.isRequired,itemProps:l.default.oneOfType([l.default.object,l.default.func]),renderItem:l.default.func.isRequired,renderItemData:l.default.object.isRequired,sectionIndex:l.default.number,highlightedItemIndex:l.default.number,onHighlightedItemChange:l.default.func.isRequired,getItemId:l.default.func.isRequired,theme:l.default.func.isRequired,keyPrefix:l.default.string.isRequired},d.defaultProps={sectionIndex:null},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=s(i),l=s(n(28)),u=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:o})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:o})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:o})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:o})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"shouldComponentUpdate",value:function(e){return(0,u.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,o=e.renderItem,i=e.renderItemData,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete l.sectionIndex,delete l.itemIndex,"function"==typeof l.onMouseEnter&&(l.onMouseEnter=this.onMouseEnter),"function"==typeof l.onMouseLeave&&(l.onMouseLeave=this.onMouseLeave),"function"==typeof l.onMouseDown&&(l.onMouseDown=this.onMouseDown),"function"==typeof l.onClick&&(l.onClick=this.onClick),a.default.createElement("li",r({role:"option"},l,{ref:this.storeItemReference}),o(n,r({isHighlighted:t},i)))}}]),t}();p.propTypes={sectionIndex:l.default.number,isHighlighted:l.default.bool.isRequired,itemIndex:l.default.number.isRequired,item:l.default.any.isRequired,renderItem:l.default.func.isRequired,renderItemData:l.default.object.isRequired,onMouseEnter:l.default.func,onMouseLeave:l.default.func,onMouseDown:l.default.func,onClick:l.default.func},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(2),a=n.n(i),l=n(14),u=n.n(l),s=n(3),c=n.n(s),p=n(4),d=n.n(p),f=n(7),g=n.n(f),h=n(6),m=n.n(h),b=n(8),v=n.n(b),y=n(10),_=n(12),k=n(0),w=n(19),S=n.n(w),O=n(9),j=n.n(O),x=n(21),C=n.n(x),I=n(20),A=n(37),E=n(103),Y=n.n(E),P=function(e){function t(){var e;return c()(this,t),(e=g()(this,m()(t).apply(this,arguments))).state={isBusy:!1,query:""},e.inputRef=Object(_.createRef)(),e.handleQuery=j()(regeneratorRuntime.mark(function t(){var n,r,o,i,a,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isBusy:!0}),n=e.state.query,r=e.props,o=r.kind,i=r.onError,a=r.onSubmit,t.t0=o,t.next="book"===t.t0?6:"chapter"===t.t0?6:"webpage"===t.t0?10:14;break;case 6:return t.next=8,A.b.get(n,"chapter"===o);case 8:return l=t.sent,t.abrupt("break",16);case 10:return t.next=12,A.d.get(n);case 12:return l=t.sent,t.abrupt("break",16);case 14:return e.setState({isBusy:!1}),t.abrupt("return");case 16:if(!(l instanceof I.a)){t.next=20;break}return i(Object(k.sprintf)(Object(k.__)("Unable to retrieve data for identifier: %s","academic-bloggers-toolkit"),l.resource)),e.setState({isBusy:!1}),t.abrupt("return");case 20:return e.setState({isBusy:!1,query:""}),t.abrupt("return",a(l));case 22:case"end":return t.stop()}},t,this)})),e}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isBusy,r=t.query,o=this.props,i=o.inputProps,a=o.className,l=!this.inputRef.current||!this.inputRef.current.validity.valid;return wp.element.createElement("div",{role:"search",className:C()(Y.a.autocite,a)},wp.element.createElement("label",{htmlFor:"autocite",role:"search",className:C()(Y.a.autocite,a)},Object(k._x)("Autocite","Not a real word, but should be something short that conveys that citation data will be generated automatically","academic-bloggers-toolkit")),wp.element.createElement("input",S()({id:"autocite",type:"search",autoComplete:"off","data-lpignore":"true",ref:this.inputRef},i,{value:r,onChange:function(t){return e.setState({query:t.currentTarget.value})},onKeyDown:function(t){if("Enter"===t.key)return t.preventDefault(),l?void 0:e.handleQuery()}})),wp.element.createElement(y.IconButton,{isLarge:!0,isBusy:n,isPrimary:n,icon:"search",disabled:l,onClick:this.handleQuery},Object(k.__)("Search","academic-bloggers-toolkit")))}}]),t}(_.Component),M=n(32),D=Object(_.createContext)({data:{},update:function(){}}),R=Object(_.createContext)({people:[],update:function(){},add:function(){},remove:function(){}}),T=n(36),L=n.n(T);var N=function(e){var t=e.field,n=t.key,r=t.label,o=t.inputProps;return wp.element.createElement(D.Consumer,null,function(e){var t,i=e.data,l=e.update;return wp.element.createElement("label",{key:r,className:L.a.field},r,wp.element.createElement("input",S()({},o,{autoComplete:"off","data-lpignore":"true",key:n,type:"text",value:(t=i[n],t&&t.raw?t.raw:t&&t["date-parts"]?t["date-parts"][0].join("/"):""),onChange:function(e){return l(n,(t=e.currentTarget.value,r=t.split("/"),o=u()(r,3),i=o[0],s=o[1],c=o[2],{"date-parts":[[].concat(a()(void 0!==i?[i]:[]),a()(void 0!==s?[s]:[]),a()(void 0!==c?[c]:[]))]}));var t,r,o,i,s,c}})))})},F=function(e){var t=e.field,n=t.key,r=t.label,o=t.inputProps;return wp.element.createElement(D.Consumer,null,function(e){var t=e.data,i=e.update;return wp.element.createElement("label",{key:r,className:L.a.field},r,wp.element.createElement("input",S()({},o,{autoComplete:"off","data-lpignore":"true",key:n,type:"number",value:t[n],onChange:function(e){return i(n,parseFloat(e.currentTarget.value))}})))})},q=function(e){var t=e.field,n=t.key,r=t.label,o=t.inputProps;return wp.element.createElement(D.Consumer,null,function(e){var t=e.data,i=e.update;return wp.element.createElement("label",{key:r,className:L.a.field},r,wp.element.createElement("input",S()({},o,{autoComplete:"off","data-lpignore":"true",key:n,type:"text",value:t[n],onChange:function(e){return i(n,e.currentTarget.value)}})))})},B=function(e){var t=e.fieldmap,n=t.title,r=t.fields;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("h2",null,n),wp.element.createElement("div",{className:L.a.container},r.map(function(e){return M.a.includes(e.key)?wp.element.createElement(N,{key:e.key,field:e}):M.c.includes(e.key)?wp.element.createElement(F,{key:e.key,field:e}):M.e.includes(e.key)?wp.element.createElement(q,{key:e.key,field:e}):null})))},U=n(74),H=n(67),z=n.n(H),V=function(e){var t=e.data,n=e.fields,r=e.index,i=e.isLiteral;return wp.element.createElement(R.Consumer,null,function(e){var a=e.update;return wp.element.createElement("div",{role:"group",className:C()(z.a.person,o()({},z.a.personLiteral,i))},wp.element.createElement("select",{value:t.kind,onChange:function(e){return a(r,Object.assign({},t,{kind:e.currentTarget.value}))}},n.map(function(e){var t=e.key,n=e.label;return wp.element.createElement("option",{key:t,value:t},n)})),!i&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("input",{required:!0,"data-lpignore":"true",autoComplete:"off",type:"text",placeholder:Object(k.__)("Last name","academic-bloggers-toolkit"),value:t.family,onChange:function(e){return a(r,Object.assign({},t,{family:e.currentTarget.value}))}}),wp.element.createElement("input",{required:!0,"data-lpignore":"true",autoComplete:"off",type:"text",placeholder:Object(k.__)("First name","academic-bloggers-toolkit"),value:t.given,onChange:function(e){return a(r,Object.assign({},t,{given:e.currentTarget.value}))}})),i&&wp.element.createElement("input",{required:!0,type:"text","data-lpignore":"true",autoComplete:"off",placeholder:Object(k.__)("Literal name","academic-bloggers-toolkit"),value:t.literal,onChange:function(e){return a(r,Object.assign({},t,{literal:e.currentTarget.value}))}}),wp.element.createElement(y.IconButton,{type:"button",icon:i?"admin-users":"groups",label:i?Object(k.__)("Toggle single name","academic-bloggers-toolkit"):Object(k.__)("Toggle group name","academic-bloggers-toolkit"),onClick:function(){return a(r,Object.assign({kind:t.kind},i?{family:"",given:""}:{literal:""}))}}))})},W=function(e){var t=e.fields;return wp.element.createElement(R.Consumer,null,function(e){var n=e.add,r=e.people,o=e.remove;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("h2",null,Object(k.__)("Contributors","academic-bloggers-toolkit")),wp.element.createElement("div",{className:z.a.people},r.map(function(e,n){return wp.element.createElement(V,{fields:t,data:e,index:n,key:n,isLiteral:void 0!==e.literal})}),wp.element.createElement("div",{className:z.a.buttons},wp.element.createElement(y.IconButton,{icon:wp.element.createElement(U.a,null),disabled:0===r.length,onClick:o},Object(k.__)("Remove contributor","academic-bloggers-toolkit")),wp.element.createElement(y.IconButton,{icon:"insert",onClick:n},Object(k.__)("Add contributor","academic-bloggers-toolkit")))))})},K={bill:{title:Object(k.__)("Bill","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Bill Number","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Code Pages","academic-bloggers-toolkit")},{key:"volume",label:Object(k.__)("Code Volume","academic-bloggers-toolkit")},{key:"section",label:Object(k.__)("Section","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Legislative Body","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Sponsor","academic-bloggers-toolkit")}]},book:{title:Object(k.__)("Book","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"collection-title",label:Object(k.__)("Series Title","academic-bloggers-toolkit")},{key:"collection-number",label:Object(k.__)("Series Number","academic-bloggers-toolkit")},{key:"number-of-pages",label:Object(k.__)("# of Pages","academic-bloggers-toolkit")},{key:"volume",label:Object(k.__)("Volume","academic-bloggers-toolkit")},{key:"edition",label:Object(k.__)("Edition","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Publisher","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"publisher-place",label:Object(k.__)("Publisher Location","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")},{key:"collection-editor",label:Object(k.__)("Series Editor","academic-bloggers-toolkit")},{key:"translator",label:Object(k.__)("Translator","academic-bloggers-toolkit")}]},chapter:{title:Object(k.__)("Book Chapter","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Chapter Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Book Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"chapter-number",label:Object(k.__)("Chapter Number","academic-bloggers-toolkit")},{key:"collection-title",label:Object(k.__)("Series","academic-bloggers-toolkit")},{key:"collection-number",label:Object(k.__)("Series Number","academic-bloggers-toolkit")},{key:"volume",label:Object(k.__)("Volume","academic-bloggers-toolkit")},{key:"number-of-volumes",label:Object(k.__)("# of Volumes","academic-bloggers-toolkit")},{key:"edition",label:Object(k.__)("Edition","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Publisher","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"publisher-place",label:Object(k.__)("Publisher Location","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"ISBN",label:Object(k.__)("ISBN","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Section Author","academic-bloggers-toolkit")},{key:"container-author",label:Object(k.__)("Book Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")},{key:"collection-editor",label:Object(k.__)("Series Editor","academic-bloggers-toolkit")},{key:"translator",label:Object(k.__)("Translator","academic-bloggers-toolkit")}]},broadcast:{title:Object(k.__)("Broadcast","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit")},{key:"container-title",label:Object(k.__)("Program Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Episode Number","academic-bloggers-toolkit")},{key:"medium",label:Object(k.__)("Format","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Network","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Producer","academic-bloggers-toolkit")},{key:"director",label:Object(k.__)("Director","academic-bloggers-toolkit")}]},"paper-conference":{title:Object(k.__)("Conference Proceeding","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"event",label:Object(k.__)("Conference Name","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"publisher-place",label:Object(k.__)("Conference Location","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")},{key:"collection-editor",label:Object(k.__)("Series Editor","academic-bloggers-toolkit")},{key:"translator",label:Object(k.__)("Translator","academic-bloggers-toolkit")}]},"entry-encyclopedia":{title:Object(k.__)("Encyclopedia Entry","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Encyclopedia Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"collection-title",label:Object(k.__)("Series","academic-bloggers-toolkit")},{key:"collection-number",label:Object(k.__)("Series Number","academic-bloggers-toolkit")},{key:"volume",label:Object(k.__)("Volume","academic-bloggers-toolkit")},{key:"number-of-volumes",label:Object(k.__)("# of Volumes","academic-bloggers-toolkit")},{key:"edition",label:Object(k.__)("Edition","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Publisher","academic-bloggers-toolkit")},{key:"publisher-place",label:Object(k.__)("Publisher Location","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")},{key:"collection-editor",label:Object(k.__)("Series Editor","academic-bloggers-toolkit")},{key:"translator",label:Object(k.__)("Translator","academic-bloggers-toolkit")}]},motion_picture:{title:Object(k.__)("Film","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"publisher",label:Object(k.__)("Distributor","academic-bloggers-toolkit")},{key:"genre",label:Object(k.__)("Genre","academic-bloggers-toolkit")},{key:"language",label:Object(k.__)("Language","academic-bloggers-toolkit")},{key:"medium",label:Object(k.__)("Format","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Scriptwriter","academic-bloggers-toolkit")},{key:"director",label:Object(k.__)("Director","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Producer","academic-bloggers-toolkit")}]},"article-journal":{title:Object(k.__)("Journal Article","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Journal","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"journalAbbreviation",label:Object(k.__)("Journal Abbreviation","academic-bloggers-toolkit")},{key:"volume",label:Object(k.__)("Volume","academic-bloggers-toolkit")},{key:"issue",label:Object(k.__)("Issue","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit")},{key:"DOI",label:Object(k.__)("DOI","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")}]},legal_case:{title:Object(k.__)("Legal Case","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Case Name","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"authority",label:Object(k.__)("Court","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Docket Number","academic-bloggers-toolkit"),inputProps:{pattern:"\\S*",title:"Any combination of non-whitespace characters"}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")}]},"article-magazine":{title:Object(k.__)("Magazine Article","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Magazine","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"volume",label:Object(k.__)("Volume","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issue",label:Object(k.__)("Issue","academic-bloggers-toolkit")},{key:"ISSN",label:Object(k.__)("ISSN","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")}]},"article-newspaper":{title:Object(k.__)("Newspaper Article","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Publication","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"section",label:Object(k.__)("Section","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issue",label:Object(k.__)("Issue","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"editor",label:Object(k.__)("Editor","academic-bloggers-toolkit")}]},patent:{title:Object(k.__)("Patent","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Number","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"jurisdiction",label:Object(k.__)("Jurisdiction","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Issuer","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Inventor","academic-bloggers-toolkit")}]},speech:{title:Object(k.__)("Presentation","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"event",label:Object(k.__)("Event Name","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"event-place",label:Object(k.__)("Event Location","academic-bloggers-toolkit")},{key:"language",label:Object(k.__)("Language","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Presenter","academic-bloggers-toolkit")}]},report:{title:Object(k.__)("Report","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Number","academic-bloggers-toolkit")},{key:"collection-title",label:Object(k.__)("Series","academic-bloggers-toolkit")},{key:"container-title",label:Object(k.__)("Publication","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("Publisher","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")},{key:"collection-editor",label:Object(k.__)("Series Editor","academic-bloggers-toolkit")},{key:"translator",label:Object(k.__)("Translator","academic-bloggers-toolkit")}]},legislation:{title:Object(k.__)("Statute","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number",label:Object(k.__)("Statute Number","academic-bloggers-toolkit")},{key:"section",label:Object(k.__)("Section","academic-bloggers-toolkit")},{key:"page",label:Object(k.__)("Pages","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")}]},thesis:{title:Object(k.__)("Thesis","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"number-of-pages",label:Object(k.__)("# of Pages","academic-bloggers-toolkit")},{key:"publisher",label:Object(k.__)("University","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"publisher-place",label:Object(k.__)("Location","academic-bloggers-toolkit")},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit")},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{required:!0,pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")}]},webpage:{title:Object(k.__)("Web Page","academic-bloggers-toolkit"),fields:[{key:"title",label:Object(k.__)("Content Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"container-title",label:Object(k.__)("Website Title","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"URL",label:Object(k.__)("URL","academic-bloggers-toolkit"),inputProps:{required:!0}},{key:"issued",label:Object(k.__)("Date","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}},{key:"accessed",label:Object(k.__)("Date Accessed","academic-bloggers-toolkit"),inputProps:{pattern:"[0-2][0-9]{3}(?:(\\/(?:0[1-9]|1[0-2]))(\\/(?:[0-2][0-9]|3[0-1]))?)?",title:"YYYY/MM/DD or YYYY/MM or YYYY"}}],people:[{key:"author",label:Object(k.__)("Author","academic-bloggers-toolkit")}]}},$=n(102),Z=n.n($),J=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},G=function(e){function t(){var e;return c()(this,t),(e=g()(this,m()(t).apply(this,arguments))).state={error:"",data:{id:"",type:"webpage"},people:[{kind:"author",family:"",given:""}]},e.maybeRenderAutocite=function(){var t=e.props.withAutocite,n=e.state.data.type;if(!t)return null;switch(n){case"book":case"chapter":return wp.element.createElement(P,{kind:n,onSubmit:e.consumeData,onError:function(t){return e.setState({error:t})},inputProps:{pattern:"(?:[\\dxX]-?){10}|(?:[\\dxX]-?){13}",placeholder:Object(k.__)("ISBN","academic-bloggers-toolkit")}});case"webpage":return wp.element.createElement(P,{kind:n,onSubmit:e.consumeData,onError:function(t){return e.setState({error:t})},inputProps:{type:"url",placeholder:Object(k.__)("URL","academic-bloggers-toolkit")}});default:return null}},e.consumeData=function(t){for(var n={id:"",type:"article"},r=[],i=Object.entries(t),l=function(){var e=u()(i[s],2),t=e[0],l=e[1];M.d.includes(t)?r=[].concat(a()(r),a()(l.map(function(e){return Object.assign({},e,{kind:t})}))):n=Object.assign({},n,o()({},t,l))},s=0;s<i.length;s++)l();e.setState({data:n,people:r})},e.addPerson=function(){return e.setState(function(e){return Object.assign({},e,{people:[].concat(a()(e.people),[{kind:"author",family:"",given:""}])})})},e.removePerson=function(){return e.setState(function(e){return Object.assign({},e,{people:a()(e.people.slice(0,e.people.length-1))})})},e.updateData=function(t,n){return e.setState(function(e){return{data:Object.assign({},e.data,o()({},t,n))}})},e.updatePerson=function(t,n){return e.setState(function(e){return Object.assign({},e,{people:[].concat(a()(e.people.slice(0,t)),[n],a()(e.people.slice(t+1)))})})},e.handleTypeChange=function(t){var n=t.currentTarget.value;return e.setState({data:{id:"",type:n}})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.data,r=!0,i=!1,l=void 0;try{for(var u,s=e.state.people[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value,p=c.kind,d=J(c,["kind"]);n=Object.assign({},n,o()({},p,Array.isArray(n[p])?[].concat(a()(n[p]),[d]):[d]))}}catch(e){i=!0,l=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw l}}e.props.onSubmit(n)},e}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props.data;e&&this.consumeData(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,r=t.error,o=t.people,i=this.props.id;return wp.element.createElement(R.Provider,{value:{people:o,add:this.addPerson,remove:this.removePerson,update:this.updatePerson}},wp.element.createElement(D.Provider,{value:{data:n,update:this.updateData}},wp.element.createElement("form",{id:i,className:Z.a.form,onSubmit:this.handleSubmit},r&&wp.element.createElement(y.Notice,{status:"error",onRemove:function(){return e.setState({error:""})}},r),wp.element.createElement("label",{className:Z.a.field},Object(k.__)("Citation type","academic-bloggers-toolkit"),wp.element.createElement("select",{value:n.type,onChange:this.handleTypeChange},a()(Object.entries(K)).map(function(e){var t=u()(e,2),n=t[0],r=t[1].title;return wp.element.createElement("option",{key:n,value:n},r)}))),this.maybeRenderAutocite(),wp.element.createElement(W,{fields:K[n.type].people}),wp.element.createElement(B,{fieldmap:K[n.type]}))))}}]),t}(_.Component);t.a=G},,function(e,t,n){e.exports={form:"style__form___37U6c",field:"style__field___1Bkmz"}},function(e,t,n){e.exports={autocite:"style__autocite___2igD7"}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(125),o=n.n(r);function i(e){var t=e.count;return React.createElement("span",{className:o.a.icon},t)}},function(e,t,n){"use strict";var r=n(106),o=n.n(r);t.a=function(e){var t=e.items,n=e.onItemClick,r=e.onItemDoubleClick,i=e.renderItem,a=e.selectedItems,l=void 0===a?[]:a;return wp.element.createElement("div",{className:o.a.list,role:"listbox","aria-multiselectable":!0},t.map(function(e){return wp.element.createElement("div",{key:e.id,className:o.a.item,role:"option","aria-selected":l.includes(e.id),onClick:function(){return n&&n(e.id)},onDoubleClick:function(){return r&&r(e.id)}},i(e))}))}},function(e,t,n){e.exports={list:"style__list___sXSVw",item:"style__item___3Ltyn"}},,function(e,t,n){"use strict";var r=n(0),o=n(3),i=n.n(o),a=n(4),l=n.n(a),u=n(17),s=n.n(u),c=function(){function e(){i()(this,e)}return l()(e,null,[{key:"getYear",value:function(e){return e&&e.raw?new Date(e.raw).getUTCFullYear():s.a.get(e,"[date-parts][0][0]",Object(r._x)("n.d.",'Abbreviation for "no date"',"academic-bloggers-toolkit"))}}]),e}(),p=function(){function e(){i()(this,e)}return l()(e,null,[{key:"getNames",value:function(e,t){return e.slice(0,t).map(function(e){var t=e.family,n=e.given,r=e.literal;return r||(t?"".concat(t," ").concat(n?n[0]:"").trim():"")}).filter(Boolean).join(", ")+"."}}]),e}(),d=n(22),f=n(126),g=n.n(f);function h(e){return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("strong",null,e.title),e.author&&e.author.length>0&&wp.element.createElement("div",{className:g.a.authors},p.getNames(e.author,3)),wp.element.createElement("div",null,wp.element.createElement("i",null,Object(d.b)(e,["journalAbbreviation","container-title-short","container-title","publisher"],Object(r._x)("n.p.",'Abbreviation for "no publisher"',"academic-bloggers-toolkit"))),wp.element.createElement("span",null,c.getYear(e.issued))))}n.d(t,"a",function(){return h})},,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(27),s=n(113),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.uid=n.uid,r.apiError=n.apiError||!1,r}return o(t,e),t}(Error);t.EUtilsError=c;var p=new Map([["authors",function(e){return{author:e.authors.map(function(e){var t=a(e.name.split(" "),2),n=t[0],r=t[1];return i({},n?{family:n}:{},r?{given:r}:{})})}}],["uid",function(e){var t=e.articleids.find(function(t){return t.value.endsWith(e.uid)});return t?-1!==["pubmed","pmid"].indexOf(t.idtype)?{PMID:e.uid}:{PMCID:t.value}:{PMID:e.uid}}],["lang",function(e){return{language:e.lang[0]}}],["sortdate",function(e){return{issued:u.parseDate(e.sortdate)}}],["sortpubdate",function(e){return{issued:u.parseDate(e.sortpubdate)}}],["source",function(e){return{journalAbbreviation:e.source,"container-title-short":e.source}}]]),d=function(e){return"error"===e.__astrocite_kind?new c(e.error,{uid:e.uid}):Object.keys(e).reduce(function(t,n){if(!e[n])return t;var r,o=p.get(n),a=s.FIELD_MAP.get(n);return o?i({},t,o(e)):a?i({},t,((r={})[a]=e[n],r)):t},{type:"article-journal"})};t.toCSL=function(e){var t=e.result.uids.map(function(t){return i({},e.result[t],{__astrocite_kind:e.result[t].error?"error":"entry"})});return l(e.error?[new c(e.error,{apiError:!0})]:[],t.map(d))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIELD_MAP=new Map([["availablefromurl","URL"],["bookname","title"],["booktitle","title"],["chapter","chapter-number"],["edition","edition"],["fulljournalname","container-title"],["issn","ISSN"],["issue","issue"],["medium","medium"],["nlmuniqueid","id"],["pages","page"],["publisherlocation","publisher-place"],["publishername","publisher"],["reportnumber","number"],["title","title"],["volume","volume"]])},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(33);function o(t,n,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},,,,function(e,t,n){e.exports={toolbar:"style__toolbar___3HdGh"}},function(e,t,n){e.exports={modal:"style__modal___1WhYc"}},function(e,t,n){e.exports={container:"toolbar__container___3iF-4"}},function(e,t){e.exports=wp.keycodes},function(e,t,n){e.exports={toolbar:"style__toolbar___1M8x4"}},function(e,t,n){e.exports={form:"style__form___FGxKO",field:"style__field___eolug"}},function(e,t,n){e.exports={icon:"style__icon___S3vp9"}},function(e,t,n){e.exports={authors:"style__authors___3xZGF"}},,,,function(e,t,n){"use strict";var r=n(2),o=n.n(r),i=n(9),a=n.n(i),l=n(3),u=n.n(l),s=n(4),c=n.n(s),p=n(7),d=n.n(p),f=n(6),g=n.n(f),h=n(8),m=n.n(h),b=n(10),v=n(18),y=n(11),_=n(12),k=n(0),w=n(74),S=n(122),O=n(51),j=n(50),x=n(20),C=n(37),I=n(124),A=n.n(I),E={doi:"10\\.[^ ]+",pmid:"[0-9]+",pmcid:"PMC[0-9]+"},Y=function(e){function t(){var e;return u()(this,t),(e=d()(this,g()(t).apply(this,arguments))).state={value:""},e.inputRef=Object(_.createRef)(),e.handleKindChange=function(t){var n=t.currentTarget.value;e.props.setIdentifierKind(n)},e.handleValueChange=function(t){var n=t.currentTarget.value;e.setState({value:n})},e.handleSubmit=function(){var t=a()(regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.setBusy(!0),r=e.state.value,o=e.props.kind,t.t0=o,t.next="doi"===t.t0?7:"pmcid"===t.t0?11:"pmid"===t.t0?15:19;break;case 7:return t.next=9,C.a.get(r);case 9:return i=t.sent,t.abrupt("break",23);case 11:return t.next=13,C.c.get(r,"pmc");case 13:return i=t.sent,t.abrupt("break",23);case 15:return t.next=17,C.c.get(r,"pubmed");case 17:return i=t.sent,t.abrupt("break",23);case 19:return e.props.onError(Object(k.sprintf)(Object(k.__)("Invalid indentifier type: %s","academic-bloggers-toolkit"),r)),e.props.setBusy(!1),e.props.onClose(),t.abrupt("return");case 23:if(e.props.setBusy(!1),!(i instanceof x.a)){t.next=28;break}return e.props.onError(Object(k.sprintf)(Object(k.__)("Unable to retrieve data for identifier: %s","academic-bloggers-toolkit"),i.resource)),e.props.onClose(),t.abrupt("return");case 28:return t.abrupt("return",e.props.onSubmit(i));case 29:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e}return m()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.inputRef.current&&e.inputRef.current.focus()},100)}},{key:"render",value:function(){var e=this.props,t=e.kind,n=e.pattern,r=e.id,o=this.state.value;return wp.element.createElement("form",{id:r,className:A.a.form,onSubmit:this.handleSubmit},wp.element.createElement("select",{required:!0,value:t,onChange:this.handleKindChange},wp.element.createElement("option",{value:"doi"},Object(k.__)("DOI","academic-bloggers-toolkit")),wp.element.createElement("option",{value:"pmid"},Object(k.__)("PMID","academic-bloggers-toolkit")),wp.element.createElement("option",{value:"pmcid"},Object(k.__)("PMCID","academic-bloggers-toolkit"))),wp.element.createElement("input",{ref:this.inputRef,required:!0,type:"text",pattern:n,value:o,onChange:this.handleValueChange}))}}]),t}(_.Component),P=Object(v.compose)([Object(y.withDispatch)(function(e){return{setIdentifierKind:function(t){e("abt/ui").setIdentifierKind(t)}}}),Object(y.withSelect)(function(e){var t=e("abt/ui").getIdentifierKind();return{kind:t,pattern:E[t]}})])(Y),M=n(100),D=n(123),R=n.n(D),T=function(e){function t(){var e;return u()(this,t),(e=d()(this,g()(t).apply(this,arguments))).state={isAddingManually:!1,isBusy:!1},e.handleToggleManually=function(t){return e.setState(e.state.isBusy?null:{isAddingManually:t})},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this,t="add-reference-form",n=this.props,r=n.onClose,o=n.onSubmit,i=n.createErrorNotice,a=this.state,l=a.isAddingManually,u=a.isBusy;return wp.element.createElement(wp.element.Fragment,null,!l&&wp.element.createElement(P,{id:t,onSubmit:o,onClose:r,onError:function(e){return i(e)},setBusy:function(t){return e.setState({isBusy:t})}}),l&&wp.element.createElement(M.a,{withAutocite:!0,id:t,onSubmit:o}),wp.element.createElement(j.a,null,wp.element.createElement("div",{className:R.a.toolbar},wp.element.createElement(b.ToggleControl,{label:Object(k.__)("Add manually","academic-bloggers-toolkit"),checked:l,onChange:this.handleToggleManually}),wp.element.createElement(b.Button,{isPrimary:!0,isLarge:!0,isBusy:u,disabled:u,type:"submit",form:t},Object(k.__)("Add Reference","academic-bloggers-toolkit")))))}}]),t}(_.Component),L=Object(v.compose)([O.a,Object(y.withDispatch)(function(e){return{createErrorNotice:function(t){e("core/notices").createErrorNotice(t)}}})])(T),N=function(e){function t(){var e;return u()(this,t),(e=d()(this,g()(t).apply(this,arguments))).state={isOpen:!1},e.toggleDialog=function(){e.setState(function(e){return{isOpen:!e.isOpen}})},e.handleSubmit=function(t){e.props.addReference(t),e.setState({isOpen:!1})},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.state.isOpen;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(b.KeyboardShortcuts,{bindGlobal:!0,shortcuts:{"ctrl+alt+r":this.toggleDialog}}),wp.element.createElement(b.IconButton,{shortcut:S.displayShortcut.primaryAlt("r"),icon:"insert",label:Object(k.__)("Add reference","academic-bloggers-toolkit"),onClick:this.toggleDialog}),wp.element.createElement(L,{title:Object(k.__)("Add reference","academic-bloggers-toolkit"),isOpen:e,onClose:this.toggleDialog,onSubmit:this.handleSubmit}))}}]),t}(_.Component),F=Object(v.compose)([Object(y.withDispatch)(function(e){return{addReference:function(t){e("abt/data").addReference(t)}}})])(N),q=n(42),B=n.n(q),U=Object(b.createSlotFill)("abt-toolbar-menu-item"),H=U.Slot,z=U.Fill,V=function(){return wp.element.createElement("hr",{className:B.a.separator})},W=function(e){return wp.element.createElement(z,null,wp.element.createElement(b.MenuItem,e))},K=Object(v.compose)([Object(y.withDispatch)(function(e,t){return{refreshItems:function(){e("abt/data").parseCitations(),e("abt/data").parseFootnotes()},removeAllCitations:function(){e("abt/data").removeAllCitations()},setSortMode:function(n){n!==t.sortMode&&e("abt/ui").setSidebarSortMode(n)},setSortOrder:function(n){n!==t.sortOrder&&e("abt/ui").setSidebarSortOrder(n)}}}),Object(y.withSelect)(function(e){return{sortMode:e("abt/ui").getSidebarSortMode(),sortOrder:e("abt/ui").getSidebarSortOrder()}})])(function(e){var t=e.refreshItems,n=e.removeAllCitations,r=e.setSortMode,o=e.setSortOrder,i=e.sortMode,a=e.sortOrder;return wp.element.createElement(b.Dropdown,{contentClassName:B.a.dropdown,renderToggle:function(e){var t=e.onToggle;return wp.element.createElement(b.IconButton,{icon:"ellipsis",label:Object(k._x)("More options","Button label telling users that clicking shows additional options","academic-bloggers-toolkit"),className:B.a.moreIcon,onClick:t})},renderContent:function(e){var l=e.onClose;return wp.element.createElement(b.NavigableMenu,{className:B.a.menu},wp.element.createElement("section",{role:"list",onClick:function(){return l()}},wp.element.createElement(b.MenuItem,{icon:"trash",onClick:n},Object(k.__)("Remove all citations","academic-bloggers-toolkit")),wp.element.createElement(b.MenuItem,{icon:"update",onClick:t},Object(k.__)("Refresh all items","academic-bloggers-toolkit")),wp.element.createElement(H,null)),wp.element.createElement(V,null),wp.element.createElement(b.MenuGroup,{label:Object(k._x)("Sort uncited by","Form label","academic-bloggers-toolkit"),className:B.a.sortChoices},wp.element.createElement(b.MenuItemsChoice,{value:i,choices:[{label:Object(k._x)("Date","Button label for sorting by date","academic-bloggers-toolkit"),value:"date"},{label:Object(k._x)("Publication","Button label for sorting by publication","academic-bloggers-toolkit"),value:"publication"},{label:Object(k._x)("Title","Button label for sorting by title","academic-bloggers-toolkit"),value:"title"}],onSelect:function(e){return r(e)}})),wp.element.createElement(b.MenuGroup,{label:Object(k._x)("Sort order","Form label","academic-bloggers-toolkit"),className:B.a.sortChoices},wp.element.createElement(b.MenuItemsChoice,{value:a,choices:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onSelect:function(e){return o(e)}})),wp.element.createElement(V,null),wp.element.createElement(b.MenuItem,{icon:"editor-help"},wp.element.createElement(b.ExternalLink,{href:"https://github.com/dsifford/academic-bloggers-toolkit/wiki"},Object(k._x)("Usage instructions","Link that goes to usage instructions","academic-bloggers-toolkit"))))}})}),$=n(59),Z=Object(v.compose)([Object(y.withSelect)(function(e){return{styleJSON:e("abt/data").getCitationStyles()}})])($.b),J=n(75),G=n.n(J),Q=function(e){function t(){var e;return u()(this,t),(e=d()(this,g()(t).apply(this,arguments))).state={value:e.props.style},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.value)},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this;return wp.element.createElement("form",{onSubmit:this.handleSubmit},wp.element.createElement(Z,{autofocus:!0,value:this.state.value,onChange:function(t){return e.setState({value:t})}}),wp.element.createElement(j.a,null,wp.element.createElement("div",{className:G.a.toolbar},wp.element.createElement(b.Button,{isPrimary:!0,isLarge:!0,type:"submit"},Object(k.__)("Confirm","academic-bloggers-toolkit")))))}}]),t}(_.Component),X=Object(v.compose)([O.a,Object(y.withSelect)(function(e){return{style:e("abt/data").getStyle()}})])(Q),ee=Object(v.compose)([Object(v.withState)({isOpen:!1}),Object(y.withDispatch)(function(e,t){return{setStyle:function(n){e("abt/data").setStyle(n),t.setState({isOpen:!1})}}})])(function(e){var t=e.isOpen,n=e.setState,r=e.setStyle;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(W,{icon:"admin-appearance",onClick:function(){return n({isOpen:!0})}},Object(k.__)("Change citation style","academic-bloggers-toolkit")),wp.element.createElement(X,{title:Object(k.__)("Change citation style","academic-bloggers-toolkit"),className:G.a.dialog,isOpen:t,onClose:function(){return n({isOpen:!1})},onSubmit:function(e){return r(e)}}))}),te=n(58),ne=n(121),re=n.n(ne);n.d(t,"a",function(){return le});var oe=Object(b.createSlotFill)("abt-toolbar-buttons"),ie=oe.Slot,ae=oe.Fill,le=function(e){return wp.element.createElement(ae,null,wp.element.createElement(b.IconButton,e))},ue=function(e){function t(){var e;return u()(this,t),(e=d()(this,g()(t).apply(this,arguments))).handleFileUpload=function(){var t=a()(regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.currentTarget,(o=r.files)&&0!==o.length){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Object(te.c)(o[0]);case 7:i=t.sent,e.props.addItems(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.props.createErrorNotice(Object(k.__)("Invalid import file type. File must be a valid BibTeX or RIS file.","academic-bloggers-toolkit"));case 14:r.value="";case 15:case"end":return t.stop()}},t,this,[[4,11]])}));return function(e){return t.apply(this,arguments)}}(),e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.removeSelectedItems,n=e.selectedItems;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(ee,null),wp.element.createElement(b.PanelBody,{opened:!0,className:re.a.container},wp.element.createElement(b.PanelRow,null,wp.element.createElement(ie,null),wp.element.createElement(F,null),wp.element.createElement(b.IconButton,{icon:wp.element.createElement(w.a,null),label:Object(k.__)("Remove selected items","academic-bloggers-toolkit"),disabled:0===n.length,onClick:function(){return t()}}),wp.element.createElement(b.FormFileUpload,{icon:"welcome-add-page",label:Object(k.__)("Import references","academic-bloggers-toolkit"),accept:[".ris",".bib",".bibtex","application/xresearch-info-systems","application/x-bibtex"].join(),onChange:this.handleFileUpload}),wp.element.createElement(K,null))))}}]),t}(_.Component);t.b=Object(v.compose)([Object(y.withDispatch)(function(e,t){return{addItems:function(t){e("abt/data").addReferences(t)},createErrorNotice:function(t){e("core/notices").createErrorNotice(t)},removeSelectedItems:function(){e("abt/data").removeReferences(o()(t.selectedItems)),e("abt/data").removeFootnotes(o()(t.selectedItems)),e("abt/ui").clearSelectedItems()}}})])(ue)},,,,,,,,,,,,,,,function(e,t){e.exports=wp.editPost},,,,,,,,function(e,t){e.exports=wp.plugins},function(e,t,n){e.exports={toolbar:"style__toolbar___2RzZF"}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(153),a=n(3),l=n.n(a),u=n(4),s=n.n(u),c=n(7),p=n.n(c),d=n(6),f=n.n(d),g=n(8),h=n.n(g),m=n(10),b=n(18),v=n(11),y=n(145),_=n(26),k=n(12),w=n(0),S=n(104),O=n(108),j=n(105),x=n(51),C=n(50),I=n(100),A=n(154),E=n.n(A),Y=Object(b.compose)([x.a,Object(v.withSelect)(function(e,t){return{data:e("abt/data").getItemById(t.itemId)||void 0}})])(function(e){var t=e.onSubmit,n=e.data;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(I.a,{id:"edit-reference-form",onSubmit:t,data:n}),wp.element.createElement(C.a,null,wp.element.createElement("div",{className:E.a.toolbar},wp.element.createElement(m.Button,{isPrimary:!0,isLarge:!0,type:"submit",form:"edit-reference-form"},Object(w.__)("Update Reference","academic-bloggers-toolkit")))))}),P=n(130),M=function(e){function t(){var e;return l()(this,t),(e=p()(this,f()(t).apply(this,arguments))).state={editReferenceId:"",needsUpdate:!1},e.setEditReferenceId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.setState({editReferenceId:t})},e}return h()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.citedItems,r=t.footnotes,o=t.isTyping,i=t.parseEditorItems,a=e.citedItems.length!==n.length||e.footnotes.length!==r.length;o&&a?this.setState({needsUpdate:a}):(this.state.needsUpdate||a)&&(i(),this.setState({needsUpdate:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.citedItems,r=t.footnotes,o=t.selectedItems,i=t.toggleItemSelected,a=t.uncitedItems,l=t.updateReference,u=this.state.editReferenceId;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Y,{title:Object(w.__)("Edit reference","academic-bloggers-toolkit"),isOpen:!!u,itemId:u,onClose:function(){return e.setEditReferenceId()},onSubmit:function(t){l(t),e.setEditReferenceId()}}),wp.element.createElement(y.PluginSidebarMoreMenuItem,{target:"abt-reference-list",icon:"welcome-learn-more"},Object(w.__)("Academic Blogger's Toolkit","academic-bloggers-toolkit")),wp.element.createElement(y.PluginSidebar,{name:"abt-reference-list",title:Object(w.__)("Reference List","academic-bloggers-toolkit")},wp.element.createElement(P.b,{selectedItems:o}),wp.element.createElement(m.PanelBody,{title:Object(w.__)("Cited Items","academic-bloggers-toolkit"),icon:wp.element.createElement(S.a,{count:n.length}),initialOpen:n.length>0,opened:0!==n.length&&void 0},wp.element.createElement(j.a,{items:n,renderItem:O.a,selectedItems:o,onItemClick:i,onItemDoubleClick:this.setEditReferenceId})),wp.element.createElement(m.PanelBody,{title:Object(w.__)("Uncited Items","academic-bloggers-toolkit"),icon:wp.element.createElement(S.a,{count:a.length}),initialOpen:a.length>0&&0===n.length,opened:0!==a.length&&void 0},wp.element.createElement(j.a,{items:a,renderItem:O.a,selectedItems:o,onItemClick:i,onItemDoubleClick:this.setEditReferenceId})),wp.element.createElement(m.PanelBody,{title:Object(w.__)("Footnotes","academic-bloggers-toolkit"),icon:wp.element.createElement(S.a,{count:r.length}),initialOpen:!1,opened:0!==r.length&&void 0},wp.element.createElement(j.a,{items:r,renderItem:function(e){var t=e.content;return wp.element.createElement(_.RichText.Content,{tagName:"div",style:{fontWeight:"bold"},value:t||""})},selectedItems:o,onItemClick:i}))))}}]),t}(k.Component),D=["abt-sidebar",{icon:"welcome-learn-more",render:Object(b.compose)([Object(v.withSelect)(function(e){var t=e("abt/data"),n=t.getCitedItems,r=t.getFootnotes,o=t.getSortedItems,i=t.getStyle,a=e("abt/ui"),l=a.getSelectedItems,u=a.getSidebarSortMode,s=a.getSidebarSortOrder;return{citedItems:n(),footnotes:r(),isTyping:e("core/editor").isTyping(),selectedItems:l(),style:i(),uncitedItems:o(u(),s(),"uncited")}}),Object(v.withDispatch)(function(e){return{parseEditorItems:function(){e("abt/data").parseCitations(),e("abt/data").parseFootnotes()},toggleItemSelected:function(t){e("abt/ui").toggleItemSelected(t)},updateReference:function(t){e("abt/data").updateReference(t)}}})])(M)}];i.registerPlugin.apply(void 0,o()(D))}]);
//# sourceMappingURL=editor.js.map