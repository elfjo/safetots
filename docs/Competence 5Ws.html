<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Safetots – competence-5ws</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Safetots</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./Rights of the Child 10Rs.html" rel="" target="" aria-current="page">
 <span class="menu-text">Rights</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Competence 5Ws.html" rel="" target="">
 <span class="menu-text">Competence</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./The 10Ns.html" rel="" target="">
 <span class="menu-text">10N</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Crisis 10Cs.html" rel="" target="">
 <span class="menu-text">Crisis</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Competence 5Ws.html">Competence (5Ws)</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The Safetots Mission and Story.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Safetots Mission and Story</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Rights of the Child 10Rs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rights of the Child (10Rs)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Competence 5Ws.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Competence (5Ws)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./The 10Ns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The 10-Ns</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Crisis 10Cs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Crisis (10Cs)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Research.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Quality Improvement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality Improvement</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Parental discussion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parental discussion</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./For Parents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">For Parents</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#competence-5ws" id="toc-competence-5ws" class="nav-link active" data-scroll-target="#competence-5ws">Competence (5Ws)</a>
  <ul class="collapse">
  <li><a href="#who" id="toc-who" class="nav-link" data-scroll-target="#who">Who</a></li>
  <li><a href="#where" id="toc-where" class="nav-link" data-scroll-target="#where">Where</a></li>
  <li><a href="#what" id="toc-what" class="nav-link" data-scroll-target="#what">What</a></li>
  <li><a href="#when" id="toc-when" class="nav-link" data-scroll-target="#when">When</a></li>
  <li><a href="#how" id="toc-how" class="nav-link" data-scroll-target="#how">HoW</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="competence-5ws" class="level2">
<h2 class="anchored" data-anchor-id="competence-5ws">Competence (5Ws)</h2>
<p><img src="media/image4.png" style="width:5.50833in;height:2.93542in" alt="A group of people in scrubs working on a baby Description automatically generated"> The 5Ws listed below are closely related to the Rights of the Child (10Rs). In particular children have</p>
<ul>
<li>the “Right to enjoy the highest attainable standard of health”</li>
<li>the “Right to avoid pain, fear and stress”</li>
<li>the “Right to have their parents with them”</li>
<li>These basic rights are respected if the 5Ws are applied.</li>
</ul>
<section id="who" class="level3">
<h3 class="anchored" data-anchor-id="who">Who</h3>
<p><strong>Anesthesia for children should always be delivered by competent and appropriately experienced anesthesiologists and care teams.</strong> Children aged less than 3 years, ASA physical status ≥ III (all ages), with underlying congenital and metabolic diseases and/or those undergoing major or complex surgery are those at highest risk for perioperative complications and poor outcome. It is recommended that these children should receive care by an anesthesiologist with specific education, training and ongoing experience in pediatric anesthesia.</p>
<p><strong>Anesthesiologists with mixed practice can deliver pediatric anesthesia for healthy children aged &gt;3 years simple and routine procedures</strong> provided they have the adequate expertise and regular practice in pediatric anesthesia. They should maintain their competence with regular exposure to pediatric lists and keep their knowledge up-to-date. This will minimize the occurrence of life-threatening complications.</p>
<p><strong>Continuing education and regular updates</strong> in pediatric centers are recommended to maintain competency. Specialist centers should support those in non-specialist practice.</p>
<p><strong>Residents and fellows in pediatric anesthesia departments</strong> must be supervised in a 1:1 manner by experienced staff during induction and emergence as well as at any time during the anesthesia if required.</p>
</section>
<section id="where" class="level3">
<h3 class="anchored" data-anchor-id="where">Where</h3>
<p>Children should receive pediatric anesthesia care in children’s hospitals or in general/district hospitals with dedicated pediatric areas.</p>
<section id="regionalization-of-pediatric-anesthesia" class="level4">
<h4 class="anchored" data-anchor-id="regionalization-of-pediatric-anesthesia">Regionalization of pediatric anesthesia</h4>
<p>The pediatric population is too small to allow maintenance of sufficient skills for every anesthesiologist. Care of children undergoing anesthesia should ideally be regionalized in specialized pediatric settings staffed by pediatric anesthesiologists and pediatric nurses.</p>
<p>In particular, the most vulnerable pediatric population, such as neonates and infants, those with co-morbidities and with underlying congenital and metabolic diseases as well as children undergoing major or complex surgery require referral to appropriately resourced multidisciplinary pediatric environments.</p>
</section>
<section id="advantages-of-specialized-childrens-hospitals" class="level4">
<h4 class="anchored" data-anchor-id="advantages-of-specialized-childrens-hospitals">Advantages of specialized children’s hospitals</h4>
<ul>
<li>24/7 pediatric anesthesia emergency service</li>
<li>Specialized pediatric nursing staff</li>
<li>Appropriate equipment for daily routine and critical situations for all targeted age groups</li>
<li>Development and implementation of standard operating protocols (SOP) for routine processes and crisis situations</li>
<li>Pediatric pain service</li>
<li>Pediatric Intensive Care provision</li>
</ul>
</section>
<section id="district-hospitals-providing-pediatric-anesthesia-care" class="level4">
<h4 class="anchored" data-anchor-id="district-hospitals-providing-pediatric-anesthesia-care">District hospitals providing pediatric anesthesia care</h4>
<p>Anesthesia for elective routine operations in otherwise stable and healthy children can be performed in district hospitals by teams with sufficient expertise in pediatric anesthesia. This requires appropriate staffing, equipment, facilities and support services.</p>
<p>Out of hours and emergency care must be provided by a team with sufficient expertise in pediatric anesthesia in a suitable environment with clear operational policies.</p>
</section>
<section id="remote-areas-and-the-critically-ill-child" class="level4">
<h4 class="anchored" data-anchor-id="remote-areas-and-the-critically-ill-child">Remote Areas and the Critically Ill Child</h4>
<p>Children who undergo anesthesia in remote areas (imaging, interventional procedures, dental suites and other special facilities) and who require deep sedation or general anesthesia must receive the same standard of care.</p>
<p>An effective referral and retrieval system must be in place for the transfer of critical ill children.</p>
</section>
</section>
<section id="what" class="level3">
<h3 class="anchored" data-anchor-id="what">What</h3>
<p><strong>Pediatric patients requiring highly specialized or major surgery</strong> (cardiac, thoracic, major visceral, major orthopedic, neurosurgical, burns and craniofacial procedures), those with significant and uncontrolled co-morbidities as well as critically ill children will benefit from specialized anesthetic care in dedicated pediatric centers.</p>
<p><strong>Anesthesia for routine operations</strong> (common ENT/ORL procedures, simple fractures, wound repairs, laparoscopic appendectomy) in otherwise stable and healthy children can be performed in district hospitals by specialist pediatric anesthesiologists or anesthesiologists with an expertise in pediatric anesthesia provided appropriate staffing, equipment, facilities and support services are in place.</p>
</section>
<section id="when" class="level3">
<h3 class="anchored" data-anchor-id="when">When</h3>
<p>Careful considerations must be given to balance the increased perioperative risks for newborns and infants and the impact of delaying elective procedures/diagnostics for the well-being of the child.</p>
<p>A delay in elective or scheduled procedures may result in avoidable emergency procedures, which do carry a higher peri-operative risk.</p>
</section>
<section id="how" class="level3">
<h3 class="anchored" data-anchor-id="how">HoW</h3>
<p><strong>High Quality and Safe Anesthesia Care</strong> promotes the well-being of the child (see Rights of the Child). It maintains physiological homeostasis (see 10Ns) and addresses the known peri-operative risk factors (See 10Cs) in an appropriately resourced multidisciplinary pediatric environment.</p>
<p><strong>Expertise in all pediatric anesthetic techniques</strong> is required to provide optimal care for all children in all situations. Several European countries have well established ‘pediatric anesthesia fellowships’ with the duration of one or two years.</p>
<p><strong>This is a mandatory prerequisite for those anesthesiologists</strong> that are willing to provide specialized pediatric care. In countries where a pediatric fellowship program is not established, the European Training Requirements (ETR) should be considered.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li>RCoA. Guidelines for the Provision of Anaesthesia Services. https://www.rcoa.ac.uk/system/files/GPAS-2019-10-PAEDIATRICS.pdf</li>
<li>Habre W, Disma N, Virag K, Becke K, Hansen TG, Jöhr M, Leva B, Morton NS, Vermeulen PM, Zielinska M, Boda K, Veyckemans F. APRICOT Group of the European Society of Anaesthesiology Clinical Trial Network. Incidence of severe critical events in paediatric anaesthesia (APRICOT): a prospective multicentre observational study in 261 hospitals in Europe. Lancet Respir Med. 2017; 5:412-425.2.</li>
<li>Auroy Y, Ecoffey C, Messiah A, Rouvier B. Relationship between complications of pediatric anesthesia and volume of pediatric anesthetics. Anesth Analg. 1997; 84: 234-5.</li>
<li>Lunn JN. Implications of the National Confidential Enquiry into Perioperative Deaths for pediatric anesthesia. Paediatr Anaesth. 1992; 2: 69–72. 4.</li>
<li>Harrison TE, Engelhardt T, MacFarlane F, Flick RP. Regionalization of pediatric anesthesia care: has the time come? Paediatr Anaesth. 2014; 24: 897-8. 5.</li>
<li>Whitlock EL, Feiner JR, Chen LL. Perioperative Mortality, 2010 to 2014: A Retrospective Cohort Study Using the National Anesthesia Clinical Outcomes Registry. Anesthesiology. 2015; 123: 1312-21.6.</li>
<li>Nunnally ME, O’Connor MF, Kordylewski H, Westlake B, Dutton RP. The incidence and risk factors for perioperative cardiac arrest observed in the national anesthesia clinical outcomes registry. Anesth Analg. 2015; 120: 364-70.7.</li>
<li>Weiss M, Bissonette B, Engelhardt T, Soriano S. Anesthetist rather than anesthetics are the threat to baby brains. Paediatr Anaesth 2013;23:881-2.8.</li>
<li>Weiss M, Hansen TG, Engelhardt T. Ensuring safe anaesthesia for neonates, infants and young children: what really matters. Arch Dis Child.2016; 101: 650-2.9.</li>
<li>Weiss M, Vutskits L, Hansen TG, Engelhardt T. Safe Anesthesia For Every Tot – The SAFETOTS initiative. Curr Opin Anaesthesiol. 2015; 28:302-7.</li>
<li>Hansen TG, Vutskits L, Disma N, Becke-Jakob K, Elfgren J, Frykholm P, Machotta A, Weiss M, Engelhardt T, Safetots Initiative. Harmonising paediatric anaesthesia training in Europe: Proposal of a roadmap. Eur J Anaesthesiol. 2022 Aug 1;39(8):642-645</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>